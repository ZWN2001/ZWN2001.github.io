<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能 | ZWN's blog</title><meta name="author" content="琉璃月"><meta name="copyright" content="琉璃月"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能 非常抽象，论文讲述的策略与总的逻辑框架没什么关系，主要还是介绍了Generate涉及到的策略，即通过智能体每一步决策可采用的不同Action，进行修复路径拓展，最终选择最佳路径实现修复。 核心是根据先前的执行结果对行动进行动态重新采样，从而为编码智能体提供参考，即通过采取替代行动，同时尽量减少冗余，增强智能体从次优决策中恢复"><meta property="og:type" content="article"><meta property="og:title" content="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能"><meta property="og:url" content="https://zwn2001.space/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper21-%E9%80%9A%E8%BF%87%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E5%8A%A8%E4%BD%9C%E9%87%8D%E9%87%87%E6%A0%B7%E4%BB%A5%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%99%BA%E8%83%BD%E4%BD%93%E6%80%A7%E8%83%BD/index.html"><meta property="og:site_name" content="ZWN&#39;s blog"><meta property="og:description" content="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能 非常抽象，论文讲述的策略与总的逻辑框架没什么关系，主要还是介绍了Generate涉及到的策略，即通过智能体每一步决策可采用的不同Action，进行修复路径拓展，最终选择最佳路径实现修复。 核心是根据先前的执行结果对行动进行动态重新采样，从而为编码智能体提供参考，即通过采取替代行动，同时尽量减少冗余，增强智能体从次优决策中恢复"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://zwn2001.space/img/cover/2.jpg"><meta property="article:published_time" content="2025-05-18T07:12:34.000Z"><meta property="article:modified_time" content="2025-06-02T14:56:27.452Z"><meta property="article:author" content="琉璃月"><meta property="article:tag" content="论文"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://zwn2001.space/img/cover/2.jpg"><link rel="shortcut icon" href="/img/favicon.webp"><link rel="canonical" href="https://zwn2001.space/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper21-%E9%80%9A%E8%BF%87%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E5%8A%A8%E4%BD%9C%E9%87%8D%E9%87%87%E6%A0%B7%E4%BB%A5%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%99%BA%E8%83%BD%E4%BD%93%E6%80%A7%E8%83%BD/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,top_n_per_article:-1,unescape:!1,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:{limitDay:200,position:"top",messagePrev:"距离上次更新已经过去",messageNext:"天啦！注意内容可能过时。"},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:300},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://unpkg.com/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://unpkg.com/flickr-justified-gallery/dist/fjGallery.css"}},isPhotoFigcaption:!0,islazyload:!1,isAnchor:!0,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-06-02 22:56:27"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){0!==a&&(a=864e5*a,t={value:t,expiry:(new Date).getTime()+a},localStorage.setItem(e,JSON.stringify(t)))},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!((new Date).getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/transpancy.css"><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/rightmenu.css"><link rel="stylesheet" href="/css/loadimg.css"><link rel="stylesheet" href="/css/project.css"><link type="text/html" rel="stylesheet" href="/css/wide_screen.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"><style>#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before{content:"\A";white-space:pre}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator{display:none}</style><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" src="/img/favicon.webp"><div class="loading-image-dot"></div><div id="loading-percentage"></div></div></div><script>const loadingPercentage=document.getElementById("loading-percentage");loadingPercentage.style.color="black";let loadingPercentageTimer=setInterval(function(){var e=document.querySelector(".pace-progress");e&&(e=e.getAttribute("data-progress-text"))!==loadingPercentage.textContent&&"60%"===(loadingPercentage.textContent=e)&&clearInterval(loadingPercentageTimer)},100);const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()})</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.webp" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">176</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/cover/2.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="ZWN's blog"><span class="site-name">ZWN's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-18T07:12:34.000Z" title="发表于 2025-05-18 15:12:34">2025-05-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-02T14:56:27.452Z" title="更新于 2025-06-02 22:56:27">2025-06-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E5%B7%A5%E4%BD%9C/">研究生工作</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>13分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能</h1><p>非常抽象，论文讲述的策略与总的逻辑框架没什么关系，主要还是介绍了Generate涉及到的策略，即通过智能体每一步决策可采用的不同Action，进行修复路径拓展，最终选择最佳路径实现修复。</p><p>核心是根据先前的执行结果对行动进行动态重新采样，从而为编码智能体提供参考，即通过采取替代行动，同时尽量减少冗余，增强智能体从次优决策中恢复和学习的能力。然而，误差也会随着轨迹的扩大而扩大，因此，我们首先要优化主干 SWE-Agent，提高其编辑能力并添加各种行动。然后，通过优化解决率的提高与在该点分支轨迹所增加的成本之间的权衡，确定最有希望的Action类型。最后引入了一个轨迹选择管道，利用专有的偏好优化模型来确定最有前途的解决方案。</p><p>DARS 不生成多个独立的轨迹，而是在关键决策点选择性地进行分支，在分支前使用深度优先策略充分探索轨迹。</p><p><img src="image-20250518152111312.png" alt=""></p><p><img src="image-20250519004009129.png" alt=""></p><img src="image-20250519004031165.png" style="zoom:50%"><h2 id="Improving-the-Base-SWE-Agent">Improving the Base SWE Agent</h2><p>首先是对基座 SWE Agent的增强，主要是对智能体可用的工具的扩充，包括代码执行沙箱，项目级代码检索等</p><h2 id="DARS-Scaling">DARS Scaling</h2><p>DARS 首先以深度优先的方式完成一个轨迹（即下图的复现-定位-修复），同时将关键决策节点存储在一个优先队列中，按节点深度升序排序。</p><p><img src="image-20250519003935012.png" alt=""></p><p>一旦当前轨迹达到极限状态–通过提交命令（完成修复，可以commit）或达到预定义的最大深度（尝试修复的次数）–这些节点就会被扩展（进行分支）。在扩展过程中，我们会对 k 个备选Action进行采样，并选出最佳Action。我们将关键决策点定义为能以最小代价显著提高resolve rate的操作。在编辑Action时扩展轨迹尤其有效，这种方法可以让智能体从之前的错误中吸取教训，从次优决策中恢复过来，这对于像编程这样的长周期任务至关重要。最后，如果在达到最大深度之前没有分支提交代码，代码就会自动提交。由于运行时错误或 SWE-Agent 环境中的其他异常情况而未能执行预期轨迹的问题将重新运行</p><h3 id="分支策略">分支策略</h3><p>DARS 的主要改进在于避免了在所有操作中都对轨迹进行分支，这将耗费指数级的计算量，而且其冗余性会导致轨迹选择管道的准确性较低。我们在 Table 13 中使用了因果分析，找出了对模型性能影响最大的四个关键Action：编辑、挂起、创建和提交。</p><h4 id="Create">Create</h4><p>缺陷复现脚本对调试至关重要。细节不足会妨碍其有效性，并导致错误的修复。通过首先对相关代码进行优化和分析，模型可以改进错误的解决。一个关键问题是，模型往往无法在错误修复过程中完善缺陷复现脚本。虽然有些情况有所改善，但另一些情况则表现得过于自信，有缺陷的脚本被重复使用。优先进行定位是准确缺陷复现的关键。创建操作不同于缺陷复现脚本中的追加。虽然两者都能评估和修复错误，但附加操作通常能生成更好的脚本。模型通常会受到先前操作的影响，只对脚本进行细微的修改，而不是探索新的路径。在创建过程中尽早对解决方案进行采样，可以更好地进行探索。问题定位是否应该总是先于复制？不一定。早期定位可能会绕过缺陷复现，从而导致较弱的解决方案或对错误的错误解释。首先缺陷复现错误可以让我们更清楚地了解问题，并更准确地解决问题。</p><h4 id="Append">Append</h4><p>当模型缺乏代码库或环境知识时，就会出现运行时错误，从而阻碍问题重现并耗尽其推理上下文。附加操作中的扩展可以通过加快缺陷复现阶段来缓解这一问题，减少缺陷定位所需的回合数。这样就能有更多的迭代来进行编辑和测试，从而改善错误的解决。这样做的好处有两个：在扩展过程中直接识别错误，或者改进复制脚本，从而更好地进行定位。</p><h4 id="Edit">Edit</h4><p>智能体有时会生成语义不正确的代码，导致 edit-Python循环（没看懂什么意思）。随着上下文长度的增加，它的推理能力也会减弱，从而陷入没有明确出口的无益循环。 智能体生成的代码经常存在基本语法错误，例如括号不匹配或缩进不正确，从而导致重复修复的循环。由于推理上的缺陷，即使修复已经失败，智能体也会经常陷入相同的无效编辑，例如重复添加结尾括号</p><h4 id="Submit">Submit</h4><p>虽然模型可以修复错误，但有时也会带来回归。为防止出现这种情况，模型应通过运行测试来验证更改，并根据测试结果修改编辑内容。此操作的扩展会促使模型在提交前重新评估其修复并纠正问题。通过考虑二级扩展，我们进一步减少了冗余。</p><p>上述操作，即创建、追加、编辑和提交，通常以相同的顺序出现。树中的操作越高，在该操作处扩展树的影响就越大。因此，如果在创建时扩展了一个分支，那么下一次我们只会在附加、编辑和提交时扩展树。同样，在编辑时扩展的分支也只会在下一次提交时扩展。我们遵循这一规则，但在追加时例外，因为根据经验，这样做产生的额外成本可以带来较高的解决率。最后，对于每个分支，我们对每种类型的扩展次数设置了上限，以防止树以指数形式增长</p><h3 id="扩展策略">扩展策略</h3><p>采用 “深度优先 ”策略，先探索当前轨迹，然后再分支，这种策略有两大优势： 高效和长视距反馈。到达终点条件后，我们从优先级队列中深度最小的节点继续前进。我们发现低深度优先是最有效的策略，因为探索的灵活性会随着节点深度的增加而降低。</p><h2 id="Best-Trajectory-Selection">Best Trajectory Selection</h2><p>在智能体生成多个轨迹后，我们将通过轨迹修剪和轨迹选择两个阶段从所有尝试中选出最有效的轨迹。首先，我们会清理每个轨迹提交的补丁，删除其中的缺陷复现文件。然后，我们会修剪任何导致相同补丁的冗余轨迹。在第二阶段，我们使用现成的开放源代码和封闭源代码模型以及自定义的监督微调模型，根据自定义的标准（即重现、修复和引入新错误的可能性）选择最佳轨迹。</p><p>Patch Preparation。我们首先清理补丁，删除除错误修复部分之外的所有内容。这包括删除错误重现脚本、readme/文档更改、pycache 文件等。然后，我们根据三个标准（即复现、修复和引入新错误的可能性）对每个补丁生成评价。为了保证模型预测的准确性，我们使用了应用补丁后运行测试所获得的执行结果。</p><p>Patch Sampling。针对某个给定问题，我们基于DARS为该问题生成的补丁数量分布，对所有2至6个补丁的组合进行采样。为了构建平衡数据集，我们进一步对负面补丁进行细粒度采样——根据应用补丁后导致失败的测试用例组合，将所有负面补丁划分为不同组别。对于正面补丁，若存在则从所有正面补丁集合中采样；若不存在正面补丁，则直接使用基准真实补丁。</p><h2 id="读代码-DARS核心工作流程">读代码-DARS核心工作流程</h2><h3 id="搜索树构建与探索">搜索树构建与探索</h3><p>DARS代理通过构建和探索决策树来寻找最优解决方案。</p><h4 id="核心实现逻辑">核心实现逻辑</h4><ul><li><strong>树节点结构</strong>：每个节点包含角色(用户/助手)、内容、动作、思考过程和子节点</li><li><strong>动态分支</strong>：在关键决策点生成多个备选动作</li><li><strong>分支评估</strong>：使用批评提示(critic prompt)评估各分支质量</li></ul><h4 id="关键代码实现">关键代码实现</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DARSNode</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;DARS搜索树的节点，表示代理状态中的一步&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"></span></span><br><span class="line"><span class="params">        self,</span></span><br><span class="line"><span class="params">        role: <span class="built_in">str</span>,</span></span><br><span class="line"><span class="params">        content: <span class="built_in">str</span>,</span></span><br><span class="line"><span class="params">        action: <span class="built_in">str</span> | <span class="literal">None</span> = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        thought: <span class="built_in">str</span> | <span class="literal">None</span> = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        error: <span class="built_in">str</span> | <span class="literal">None</span> = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        parent: DARSNode | <span class="literal">None</span> = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    </span>):</span><br><span class="line">        self.role = role</span><br><span class="line">        self.content = content</span><br><span class="line">        self.action = action</span><br><span class="line">        self.thought = thought</span><br><span class="line">        self.error = error</span><br><span class="line">        self.parent = parent</span><br><span class="line">        self.children: <span class="type">List</span>[DARSNode] = []</span><br><span class="line">        <span class="comment"># 其他元数据...</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">expand</span>(<span class="params">self, node: DARSNode</span>) -&gt; <span class="type">List</span>[DARSNode]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;在给定节点生成多个可能的动作&quot;&quot;&quot;</span></span><br><span class="line">    expansions = []</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(self.config.num_samples_per_expansion):</span><br><span class="line">        <span class="comment"># 生成备选动作</span></span><br><span class="line">        action_result = self.get_expansion_action(node)</span><br><span class="line">        <span class="comment"># 创建新的分支节点</span></span><br><span class="line">        expansion_node = DARSNode(</span><br><span class="line">            role=<span class="string">&quot;assistant&quot;</span>,</span><br><span class="line">            content=action_result[<span class="string">&quot;content&quot;</span>],</span><br><span class="line">            action=action_result[<span class="string">&quot;action&quot;</span>],</span><br><span class="line">            thought=action_result[<span class="string">&quot;thought&quot;</span>],</span><br><span class="line">            parent=node,</span><br><span class="line">        )</span><br><span class="line">        expansions.append(expansion_node)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 选择最佳扩展</span></span><br><span class="line">    <span class="keyword">if</span> expansions <span class="keyword">and</span> self.config.select_expansion:</span><br><span class="line">        selected = self.select_expansion(expansions, node)</span><br><span class="line">        <span class="keyword">return</span> [selected]</span><br><span class="line">    <span class="keyword">return</span> expansions</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">should_expand</span>(<span class="params">self, node: DARSNode</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;判断是否应该在当前节点进行扩展&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> node.role != <span class="string">&quot;assistant&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 检查是否超过了扩展限制</span></span><br><span class="line">    <span class="keyword">if</span> self.expansion_count &gt;= self.config.max_expansions:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 检查是否存在错误或其他扩展条件</span></span><br><span class="line">    <span class="keyword">if</span> node.error <span class="keyword">and</span> self.config.expand_on_error:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 策略性扩展</span></span><br><span class="line">    <span class="keyword">return</span> self._strategic_expansion_decision(node)</span><br></pre></td></tr></table></figure><p>树构建过程通过递归方式探索可能的解决方案路径，在遇到关键决策点时生成多个备选方案，然后选择最有希望的路径继续执行。</p><h3 id="自适应树遍历">自适应树遍历</h3><p>DARS采用自适应树遍历策略，结合前向探索和智能回溯机制，高效地在决策空间中导航。</p><h4 id="核心实现逻辑-2">核心实现逻辑</h4><ul><li><strong>前向探索</strong>：沿最有希望的路径深入</li><li><strong>智能回溯</strong>：在遇到障碍时回到有未探索分支的节点</li><li><strong>环境状态重置</strong>：确保在探索新分支时环境状态的一致性</li></ul><h4 id="关键代码实现-2">关键代码实现</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">forward_with_error_check</span>(<span class="params">self, node: DARSNode</span>) -&gt; <span class="type">Tuple</span>[<span class="built_in">bool</span>, <span class="built_in">str</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;执行动作并检查错误&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> node.action:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span>, <span class="string">&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 执行动作</span></span><br><span class="line">        self.env.submit_action(node.action)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span>, <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="comment"># 捕获执行错误</span></span><br><span class="line">        error_msg = <span class="built_in">str</span>(e)</span><br><span class="line">        node.error = error_msg</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span>, error_msg</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">backtrack</span>(<span class="params">self, current_node: DARSNode</span>) -&gt; <span class="type">Tuple</span>[DARSNode, <span class="built_in">bool</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;回溯到上一个有未探索分支的节点&quot;&quot;&quot;</span></span><br><span class="line">    node = current_node</span><br><span class="line">    <span class="keyword">while</span> node.parent:</span><br><span class="line">        node = node.parent</span><br><span class="line">        <span class="comment"># 检查是否有更多扩展可能性</span></span><br><span class="line">        <span class="keyword">if</span> self.has_unexplored_branches(node):</span><br><span class="line">            <span class="keyword">return</span> node, <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> self.root, <span class="literal">False</span>  <span class="comment"># 回到根节点，表示无法找到更好的分支</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">reset_env_to_node</span>(<span class="params">self, target_node: DARSNode</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;重置环境状态到指定节点&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 收集从根到目标节点的路径</span></span><br><span class="line">    path = []</span><br><span class="line">    node = target_node</span><br><span class="line">    <span class="keyword">while</span> node.parent:</span><br><span class="line">        path.append(node)</span><br><span class="line">        node = node.parent</span><br><span class="line">    path.reverse()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 重新初始化环境</span></span><br><span class="line">    self.env.reset()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 重新执行所有操作以重建状态</span></span><br><span class="line">    <span class="keyword">for</span> node <span class="keyword">in</span> path:</span><br><span class="line">        <span class="keyword">if</span> node.action:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                self.env.submit_action(node.action)</span><br><span class="line">            <span class="keyword">except</span> Exception:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment"># 状态重置失败</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><p>DARS的自适应树遍历算法能够有效地在复杂决策空间中导航，在遇到死胡同时迅速回溯并尝试替代路径，极大地提高了代码修复的成功率。</p><h3 id="解决方案生成与验证">解决方案生成与验证</h3><p>在探索过程中，DARS不断尝试生成解决方案并进行验证，以确保解决方案的正确性和有效性。</p><h4 id="核心实现逻辑-3">核心实现逻辑</h4><ul><li><strong>渐进式改进</strong>：通过多次迭代和尝试逐步优化解决方案</li><li><strong>验证机制</strong>：使用测试和环境反馈验证解决方案有效性</li><li><strong>错误分析与修正</strong>：基于测试失败分析进行定向修复</li></ul><h4 id="关键代码实现-3">关键代码实现</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">generate_solution</span>(<span class="params">self</span>) -&gt; <span class="type">Dict</span>[<span class="built_in">str</span>, <span class="type">Any</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;生成并验证解决方案&quot;&quot;&quot;</span></span><br><span class="line">    current_node = self.current_node</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 检查是否已经找到解决方案</span></span><br><span class="line">    <span class="keyword">if</span> self.is_solution(current_node):</span><br><span class="line">        <span class="keyword">return</span> self.extract_solution(current_node)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 尝试生成解决方案</span></span><br><span class="line">    solution_attempt = self.attempt_solution()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 验证解决方案</span></span><br><span class="line">    <span class="keyword">if</span> self.validate_solution(solution_attempt):</span><br><span class="line">        <span class="keyword">return</span> solution_attempt</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 根据验证结果调整策略</span></span><br><span class="line">    self.adjust_strategy(solution_attempt)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> self.continue_exploration()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">validate_solution</span>(<span class="params">self, solution</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;验证解决方案的有效性&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 运行测试用例</span></span><br><span class="line">    test_results = self.run_tests(solution)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 检查是否通过所有测试</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">all</span>(test_results):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 记录失败的测试，用于后续改进</span></span><br><span class="line">    self.failed_tests = [i <span class="keyword">for</span> i, res <span class="keyword">in</span> <span class="built_in">enumerate</span>(test_results) <span class="keyword">if</span> <span class="keyword">not</span> res]</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">adjust_strategy</span>(<span class="params">self, failed_solution</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;基于失败的解决方案调整策略&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 分析失败原因</span></span><br><span class="line">    failure_analysis = self.analyze_failures()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 更新提示以包含失败分析</span></span><br><span class="line">    self.update_prompts_with_failures(failure_analysis)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 可能触发回溯或扩展</span></span><br><span class="line">    <span class="keyword">if</span> self.should_backtrack_after_failure():</span><br><span class="line">        self.trigger_backtrack()</span><br></pre></td></tr></table></figure><p>解决方案生成过程是渐进式的，DARS会不断尝试不同的修复策略，并根据环境反馈和测试结果调整其方法，直到找到有效的解决方案或耗尽计算资源。</p><h3 id="结果输出与后处理">结果输出与后处理</h3><p>最终阶段涉及将成功的解决方案格式化为补丁并进行后处理，如应用补丁、创建PR等。</p><h4 id="核心实现逻辑-4">核心实现逻辑</h4><ul><li><strong>轨迹记录</strong>：保存整个决策过程和探索路径</li><li><strong>补丁生成</strong>：将代码更改格式化为Git补丁</li><li><strong>自动化操作</strong>：可选的补丁应用和PR创建</li></ul><h4 id="关键代码实现-4">关键代码实现</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SaveApplyPatchHook</span>(<span class="title class_ inherited__">MainHook</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;保存并可选地应用补丁的Hook&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_save_patch</span>(<span class="params">self, instance_id: <span class="built_in">str</span>, info</span>) -&gt; Path | <span class="literal">None</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;创建可用于git apply的补丁文件&quot;&quot;&quot;</span></span><br><span class="line">        patch_output_dir = self._traj_dir / <span class="string">&quot;patches&quot;</span></span><br><span class="line">        patch_output_dir.mkdir(exist_ok=<span class="literal">True</span>, parents=<span class="literal">True</span>)</span><br><span class="line">        patch_output_file = patch_output_dir / <span class="string">f&quot;<span class="subst">&#123;instance_id&#125;</span>.patch&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> info.get(<span class="string">&quot;submission&quot;</span>):</span><br><span class="line">            logger.info(<span class="string">&quot;No patch to save.&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            </span><br><span class="line">        model_patch = info[<span class="string">&quot;submission&quot;</span>]</span><br><span class="line">        patch_output_file.write_text(model_patch)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> self._is_promising_patch(info):</span><br><span class="line">            self._print_patch_message(patch_output_file)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> patch_output_file</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">OpenPRHook</span>(<span class="title class_ inherited__">MainHook</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;如果问题解决并且用户启用了该选项，则打开PR的Hook&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">on_instance_completed</span>(<span class="params">self, *, info, trajectory</span>):</span><br><span class="line">        <span class="keyword">if</span> self._open_pr <span class="keyword">and</span> self.should_open_pr(info):</span><br><span class="line">            self._env.open_pr(trajectory=trajectory)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">should_open_pr</span>(<span class="params">self, info: <span class="built_in">dict</span>[<span class="built_in">str</span>, <span class="type">Any</span>]</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;判断是否应该开启PR&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> info.get(<span class="string">&quot;submission&quot;</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> info[<span class="string">&quot;exit_status&quot;</span>] != <span class="string">&quot;submitted&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            </span><br><span class="line">        <span class="comment"># 检查GitHub相关条件</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            issue = get_gh_issue_data(self._data_path, token=self._token)</span><br><span class="line">        <span class="keyword">except</span> InvalidGithubURL:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            </span><br><span class="line">        <span class="comment"># 进行一系列检查，如issue是否开放、是否已分配等</span></span><br><span class="line">        <span class="keyword">if</span> issue.state != <span class="string">&quot;open&quot;</span> <span class="keyword">or</span> issue.assignee <span class="keyword">or</span> issue.locked:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            </span><br><span class="line">        <span class="comment"># 检查是否已有相关提交</span></span><br><span class="line">        org, repo, issue_number = parse_gh_issue_url(self._data_path)</span><br><span class="line">        associated_commits = get_associated_commit_urls(org, repo, issue_number, token=self._token)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> associated_commits <span class="keyword">and</span> self._skip_if_commits_reference_issue:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">finalize_trajectory</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;完成轨迹并整理结果&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 计算关键指标</span></span><br><span class="line">    metrics = self.compute_metrics()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 保存完整轨迹</span></span><br><span class="line">    self.save_trajectory()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 准备最终报告</span></span><br><span class="line">    report = &#123;</span><br><span class="line">        <span class="string">&quot;exit_status&quot;</span>: self.exit_status,</span><br><span class="line">        <span class="string">&quot;metrics&quot;</span>: metrics,</span><br><span class="line">        <span class="string">&quot;submission&quot;</span>: self.get_final_submission(),</span><br><span class="line">        <span class="string">&quot;trajectory_path&quot;</span>: <span class="built_in">str</span>(self.trajectory_path)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> report</span><br></pre></td></tr></table></figure><p>结果处理阶段不仅关注解决方案的保存，还提供了丰富的自动化功能，如应用补丁、创建PR等，使开发者可以无缝地将AI生成的修复集成到工作流中。</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://zwn2001.space">琉璃月</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zwn2001.space/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper21-%E9%80%9A%E8%BF%87%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E5%8A%A8%E4%BD%9C%E9%87%8D%E9%87%87%E6%A0%B7%E4%BB%A5%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%99%BA%E8%83%BD%E4%BD%93%E6%80%A7%E8%83%BD/">https://zwn2001.space/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper21-%E9%80%9A%E8%BF%87%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E5%8A%A8%E4%BD%9C%E9%87%8D%E9%87%87%E6%A0%B7%E4%BB%A5%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%99%BA%E8%83%BD%E4%BD%93%E6%80%A7%E8%83%BD/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zwn2001.space" target="_blank">ZWN's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BA%E6%96%87/">论文</a></div><div class="post_share"><div class="social-share" data-image="/img/cover/2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://unpkg.com/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper22-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%84/" title="读paper22-arxiv代码修复论文组"><img class="cover" src="/img/cover/31.jpg" onerror='onerror=null,src="/img/404.webp"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">读paper22-arxiv代码修复论文组</div></div></a></div><div class="next-post pull-right"><a href="/posts/Graduate-Works/Works/Defects4J%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/" title="Defects4J使用"><img class="cover" src="/img/cover/26.jpg" onerror='onerror=null,src="/img/404.webp"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Defects4J使用</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper10-%E4%BB%A3%E7%A0%81%E7%9B%B8%E4%BC%BC%E5%BA%A6/" title="读paper10-代码相似度"><img class="cover" src="/img/cover/24.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-05</div><div class="title">读paper10-代码相似度</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper11-%E5%9F%BA%E4%BA%8ELLM%E7%9A%84%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D3/" title="读paper11-基于LLM的缺陷修复3"><img class="cover" src="/img/cover/58.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-22</div><div class="title">读paper11-基于LLM的缺陷修复3</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper12-%E9%9D%99%E6%80%81%E8%AD%A6%E6%8A%A5%E8%87%AA%E5%8A%A8%E7%A1%AE%E8%AE%A4%E4%B8%8ELLM%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%80%A7%E8%AF%84%E4%BC%B0/" title="读paper12-静态警报自动确认"><img class="cover" src="/img/cover/24.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-28</div><div class="title">读paper12-静态警报自动确认</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper1-%E9%92%88%E5%AF%B9DL%E7%9A%84%E7%BC%BA%E9%99%B7%E5%88%86%E7%B1%BB%E4%B8%8E%E4%BF%AE%E5%A4%8D/" title="读paper1-针对DL的缺陷分类与修复"><img class="cover" src="/img/cover/40.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-26</div><div class="title">读paper1-针对DL的缺陷分类与修复</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper16-%E5%BE%AE%E8%B0%83LLM%E7%9A%84APR%E4%B8%8E%E6%AD%A3%E7%A1%AE%E6%80%A7%E9%AA%8C%E8%AF%81/" title="读paper16-微调LLM的APR与正确性验证"><img class="cover" src="/img/cover/2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-03</div><div class="title">读paper16-微调LLM的APR与正确性验证</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper17-%E5%9F%BA%E4%BA%8ELLM%E7%9A%84%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D4%E4%B8%8E%E4%BF%AE%E5%A4%8D%E6%8F%90%E7%A4%BA%E8%AF%8D/" title="读paper17-基于LLM的缺陷修复4与修复提示词"><img class="cover" src="/img/cover/54.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-08</div><div class="title">读paper17-基于LLM的缺陷修复4与修复提示词</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">琉璃月</div><div class="author-info__description">我虽无意逐鹿，却知苍生苦楚</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">176</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ZWN2001"><i class="fab fa-github"></i><span>我的Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ZWN2001" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">新域名：www.zwn2001.space，有效期：10年。https://www.zwn-blog.xyz已过期。访问时建议科学上网，否则博客内公式渲染会出现问题且速度慢。Ctrl+shift+r可强制刷新网站以避免浏览器缓存造成的更新不及时</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Improving-the-Base-SWE-Agent"><span class="toc-number">1.1.</span> <span class="toc-text">Improving the Base SWE Agent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DARS-Scaling"><span class="toc-number">1.2.</span> <span class="toc-text">DARS Scaling</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%AD%96%E7%95%A5"><span class="toc-number">1.2.1.</span> <span class="toc-text">分支策略</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Create"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">Create</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Append"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">Append</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Edit"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">Edit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Submit"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">Submit</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E7%AD%96%E7%95%A5"><span class="toc-number">1.2.2.</span> <span class="toc-text">扩展策略</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Best-Trajectory-Selection"><span class="toc-number">1.3.</span> <span class="toc-text">Best Trajectory Selection</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E4%BB%A3%E7%A0%81-DARS%E6%A0%B8%E5%BF%83%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.4.</span> <span class="toc-text">读代码-DARS核心工作流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%A0%91%E6%9E%84%E5%BB%BA%E4%B8%8E%E6%8E%A2%E7%B4%A2"><span class="toc-number">1.4.1.</span> <span class="toc-text">搜索树构建与探索</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0%E9%80%BB%E8%BE%91"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">核心实现逻辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">关键代码实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86"><span class="toc-number">1.4.2.</span> <span class="toc-text">自适应树遍历</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0%E9%80%BB%E8%BE%91-2"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">核心实现逻辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-2"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">关键代码实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%94%9F%E6%88%90%E4%B8%8E%E9%AA%8C%E8%AF%81"><span class="toc-number">1.4.3.</span> <span class="toc-text">解决方案生成与验证</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0%E9%80%BB%E8%BE%91-3"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">核心实现逻辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-3"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">关键代码实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA%E4%B8%8E%E5%90%8E%E5%A4%84%E7%90%86"><span class="toc-number">1.4.4.</span> <span class="toc-text">结果输出与后处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0%E9%80%BB%E8%BE%91-4"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">核心实现逻辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-4"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">关键代码实现</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/Something/%E5%86%99%E5%9C%A8%E8%87%AA%E5%B7%B1%E5%AE%9E%E4%B9%A0%E5%89%8D/" title="写在自己实习前"><img src="/img/cover/33.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="写在自己实习前"></a><div class="content"><a class="title" href="/posts/Something/%E5%86%99%E5%9C%A8%E8%87%AA%E5%B7%B1%E5%AE%9E%E4%B9%A0%E5%89%8D/" title="写在自己实习前">写在自己实习前</a><time datetime="2025-09-02T08:48:56.000Z" title="发表于 2025-09-02 16:48:56">2025-09-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper23-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%842/" title="读paper23-arxiv代码修复论文组2"><img src="/img/cover/31.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="读paper23-arxiv代码修复论文组2"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper23-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%842/" title="读paper23-arxiv代码修复论文组2">读paper23-arxiv代码修复论文组2</a><time datetime="2025-07-12T07:50:19.000Z" title="发表于 2025-07-12 15:50:19">2025-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Works/%E9%92%88%E5%AF%B9d4j%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/" title="针对d4j的一些思考"><img src="/img/cover/14.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="针对d4j的一些思考"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Works/%E9%92%88%E5%AF%B9d4j%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/" title="针对d4j的一些思考">针对d4j的一些思考</a><time datetime="2025-06-04T04:56:57.000Z" title="发表于 2025-06-04 12:56:57">2025-06-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper22-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%84/" title="读paper22-arxiv代码修复论文组"><img src="/img/cover/31.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="读paper22-arxiv代码修复论文组"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper22-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%84/" title="读paper22-arxiv代码修复论文组">读paper22-arxiv代码修复论文组</a><time datetime="2025-06-03T13:50:38.000Z" title="发表于 2025-06-03 21:50:38">2025-06-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper21-%E9%80%9A%E8%BF%87%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E5%8A%A8%E4%BD%9C%E9%87%8D%E9%87%87%E6%A0%B7%E4%BB%A5%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%99%BA%E8%83%BD%E4%BD%93%E6%80%A7%E8%83%BD/" title="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能"><img src="/img/cover/2.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper21-%E9%80%9A%E8%BF%87%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E5%8A%A8%E4%BD%9C%E9%87%8D%E9%87%87%E6%A0%B7%E4%BB%A5%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%99%BA%E8%83%BD%E4%BD%93%E6%80%A7%E8%83%BD/" title="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能">读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能</a><time datetime="2025-05-18T07:12:34.000Z" title="发表于 2025-05-18 15:12:34">2025-05-18</time></div></div></div></div></div></div></main><footer id="footer" style="background:0 0"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" rel="external nofollow noreferrer"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();" rel="external nofollow noreferrer"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();" rel="external nofollow noreferrer"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.google.com/search?q=&quot;+window.getSelection().toString());" rel="external nofollow noreferrer"><i class="iconfont icon-baidu"></i><span>搜索</span></a><a class="rightMenu-item" href="javascript:rmf.searchinThisPage();" rel="external nofollow noreferrer"><i class="fas fa-search"></i><span>站内搜索</span></a><a class="rightMenu-item" href="#post-comment" onclick="rmf.yinyong()"><i class="fa-solid fa-message"></i><span>引用文本评论</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()" rel="external nofollow noreferrer"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()" rel="external nofollow noreferrer"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()" rel="external nofollow noreferrer"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.click()" rel="external nofollow noreferrer"><i class="fa fa-arrows-alt"></i><span>全屏显示</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" rel="external nofollow noreferrer"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:rmf.translate();" rel="external nofollow noreferrer"><i class="iconfont icon-fanti"></i><span>繁简转换</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();" rel="external nofollow noreferrer"><i class="fa fa-book"></i><span>阅读模式</span></a><a class="rightMenu-item" href="javascript:fullScreen();" rel="external nofollow noreferrer"><i class="fas fa-expand"></i><span>进入全屏</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://unpkg.com/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://unpkg.com/katex/dist/katex.min.css"><script src="https://unpkg.com/katex/dist/contrib/copy-tex.min.js"></script><script>document.querySelectorAll("#article-container span.katex-display").forEach(a=>{btf.wrap(a,"div",{class:"katex-wrap"})})</script><script>function getGiscusTheme(e){return"dark"===e?"dark":"light"}function loadGiscus(){var e,t=Object.assign({src:"https://giscus.app/client.js","data-repo":"ZWN2001/ZWN2001.github.io","data-repo-id":"R_kgDOGH1XWg","data-category-id":"DIC_kwDOGH1XWs4CXnHJ","data-mapping":"pathname","data-theme":getGiscusTheme(document.documentElement.getAttribute("data-theme")),"data-reactions-enabled":"1",crossorigin:"anonymous",async:!0},{"data-lang":"zh-CN","data-loading":"lazy",crossorigin:"anonymous","data-mapping":"og:title","data-input-position":"top","data-category":"Announcements"}),a=document.createElement("script");for(e in t)a.setAttribute(e,t[e]);document.getElementById("giscus-wrap").insertAdjacentElement("afterbegin",a)}function changeGiscusTheme(e){var t;e={setConfig:{theme:getGiscusTheme(e)}},(t=document.querySelector("iframe.giscus-frame"))&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")}function loadOtherComment(){loadGiscus()}btf.addModeChange("giscus",changeGiscusTheme),btf.loadComment(document.getElementById("giscus-wrap"),loadGiscus)</script></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script><script type="text/javascript" src="/js/rightmenu.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script data-pjax>var parent,child;document.getElementById("recent-posts")&&"/"===location.pathname&&(parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://zwn2001.space/categories/编程知识/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 琉璃月の编程知识 (13)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zwn2001.space/categories/实用知识/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 琉璃月の实用知识 (10)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zwn2001.space/categories/学习-课外拓展/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 琉璃月の学习-课外拓展 (39)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zwn2001.space/categories/学习-课内知识/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 琉璃月の学习-课内知识 (59)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://zwn2001.space/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>',console.log("已挂载magnet"),parent.insertAdjacentHTML("afterbegin",child))</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style></body></html>