<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>读paper2-基于LLM的缺陷修复 | ZWN's blog</title><meta name="author" content="琉璃月"><meta name="copyright" content="琉璃月"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="读paper2-基于LLM的缺陷修复 A Deep Dive into Large Language Models for Automated Bug Localization and Repair 来自 Proceedings of the ACM on Software Engineering 。用作启发思路吧，水水的，一二区里没见这刊。反正成果也没开源，全靠几张图。。。 研究概述  现有的工"><meta property="og:type" content="article"><meta property="og:title" content="读paper2-基于LLM的缺陷修复"><meta property="og:url" content="https://zwn2001.space/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper2-%E5%9F%BA%E4%BA%8ELLM%E7%9A%84%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D/index.html"><meta property="og:site_name" content="ZWN&#39;s blog"><meta property="og:description" content="读paper2-基于LLM的缺陷修复 A Deep Dive into Large Language Models for Automated Bug Localization and Repair 来自 Proceedings of the ACM on Software Engineering 。用作启发思路吧，水水的，一二区里没见这刊。反正成果也没开源，全靠几张图。。。 研究概述  现有的工"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://zwn2001.space/img/cover/14.jpg"><meta property="article:published_time" content="2024-08-09T11:12:45.000Z"><meta property="article:modified_time" content="2024-10-30T10:05:11.083Z"><meta property="article:author" content="琉璃月"><meta property="article:tag" content="论文"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://zwn2001.space/img/cover/14.jpg"><link rel="shortcut icon" href="/img/favicon.webp"><link rel="canonical" href="https://zwn2001.space/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper2-%E5%9F%BA%E4%BA%8ELLM%E7%9A%84%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,top_n_per_article:-1,unescape:!1,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:{limitDay:200,position:"top",messagePrev:"距离上次更新已经过去",messageNext:"天啦！注意内容可能过时。"},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:300},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://unpkg.com/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://unpkg.com/flickr-justified-gallery/dist/fjGallery.css"}},isPhotoFigcaption:!0,islazyload:!1,isAnchor:!0,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"读paper2-基于LLM的缺陷修复",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-10-30 18:05:11"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){0!==a&&(a=864e5*a,t={value:t,expiry:(new Date).getTime()+a},localStorage.setItem(e,JSON.stringify(t)))},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!((new Date).getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/transpancy.css"><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/rightmenu.css"><link rel="stylesheet" href="/css/loadimg.css"><link rel="stylesheet" href="/css/project.css"><link type="text/html" rel="stylesheet" href="/css/wide_screen.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"><style>#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before{content:"\A";white-space:pre}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator{display:none}</style><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" src="/img/favicon.webp"><div class="loading-image-dot"></div><div id="loading-percentage"></div></div></div><script>const loadingPercentage=document.getElementById("loading-percentage");loadingPercentage.style.color="black";let loadingPercentageTimer=setInterval(function(){var e=document.querySelector(".pace-progress");e&&(e=e.getAttribute("data-progress-text"))!==loadingPercentage.textContent&&"60%"===(loadingPercentage.textContent=e)&&clearInterval(loadingPercentageTimer)},100);const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()})</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.webp" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">176</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/cover/14.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="ZWN's blog"><span class="site-name">ZWN's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">读paper2-基于LLM的缺陷修复</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-09T11:12:45.000Z" title="发表于 2024-08-09 19:12:45">2024-08-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-30T10:05:11.083Z" title="更新于 2024-10-30 18:05:11">2024-10-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E5%B7%A5%E4%BD%9C/">研究生工作</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>19分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>读paper2-基于LLM的缺陷修复</h1><h2 id="A-Deep-Dive-into-Large-Language-Models-for-Automated-Bug-Localization-and-Repair">A Deep Dive into Large Language Models for Automated Bug Localization and Repair</h2><p>来自 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://dl.acm.org/journal/pacmse">Proceedings of the ACM on Software Engineering</a> 。用作启发思路吧，水水的，一二区里没见这刊。反正成果也没开源，全靠几张图。。。</p><h3 id="研究概述">研究概述</h3><p><img src="image-20240809191628957.png" alt=""></p><p>现有的工作探索了将整个有错误的函数输入到LLMs中，并使用注释来指导LLMs生成修复好的函数的方法。然而，让LLMs生成整个函数是多余的，因为原有有错误的函数中并不是所有的代码都是错误的。有可能有错误的代码及其相应的修复代码共享一些非错误的前缀和后缀。例如，在图1中，蓝色和棕色的代码是有错误和修复函数共享的前缀和后缀代码。通常，只有少部分有错误的代码需要修改。在给定的例子中，只需要将 “getProperty” 替换为 “get” 就可以生成修复代码。要求LLMs生成这之外的其他代码可能会导致更多的错误，并降低整体的错误修复能力。</p><p>问题根源还是在于<strong>细粒度</strong>，所以该文提出了一种基于token的缺陷定位与修复，避免基于行的细粒度而造成的不必要的重复代码生成及其引出的额外问题。该文设计了四个独特的prompt来对LLM进行fine-tune以进行错误修复，如下图：</p><p><img src="image-20240809195149796.png" alt=""></p><p>对于缺陷定位，原文提到：我们利用编码器LLM（例如CodeT5 ）的能力，带有自注意机制，来识别标记了实际有Bug代码段的起始和结束位置。此外，我们的方法利用可用的上下文信息（例如代码注释）来定位有Bug的标记。</p><blockquote><p>We leverage the power of an encoder LLM (e.g., CodeT5) with a self-attention mechanism to identify the tokens marking the beginning and end of the actual buggy code segment. Additionally, our approach leverages available contextual information (e.g., code comments) to pinpoint the buggy tokens.</p></blockquote><p>对于缺陷定位与缺陷修复直接的连接，<strong>原文提到了两个不同阶段的不同模型导致的分词不一致性问题</strong>。原文如下：</p><p>对于bug定位，我们使用了编码器类型的大型语言模型，如CodeT5，而对于bug修复，则采用了解码器类型的生成式LLM，如CodeGPT和CodeGen。这种设置面临的一个挑战是定位和修复模型的分词器之间存在不一致性和不一致性，这可能会影响整体的修复准确性。这个问题在图2中进行了说明，其中正确的修复方法包括将&quot;getProperty&quot;替换为&quot;get&quot;或将&quot;Property&quot;替换为空字符串。bug定位模型准确地确定了&quot;Property&quot;作为有问题代码的起始标记。然而，在bug修复模型的视角中，“getProperty&quot;被视为一个单独的标记，因此，bug修复模型更容易用&quot;get&quot;这个标记替换&quot;getProperty”，而不是在预测的错误位置删除&quot;Property&quot;。</p><p>解决方案就是使用一个可选的<strong>Adapter</strong>（调整模块）来降低不一致问题，调整模块旨在考虑了定位模型的预测和修复模型的性能后，找到最优的定位。</p><p><img src="image-20240809192937092.png" alt=""></p><p>除了引入一个新的bug定位和修复框架Toggle，该文还进行了一项综合研究，涉及以下六个研究问题。</p><ul><li><p>RQ1研究了Toggle的bug修复效果，重点关注了来自四个类别的四个数据集中的六个fine-tune后的LLM</p><ul><li>发现1：<strong>在fine-tune后，尺寸较大的LLMs具有更好的bug修复准确性</strong>。</li><li>这些发现表明，在应用我们的方法时，若可行，选择较大的LLMs进行fine-tune以进行bug修复。</li></ul></li><li><p>RQ2 研究了Toggle对未见数据的泛化能力</p><ul><li>发现2：使用微调后的LLM（CodeParrot-110M）可以有效地泛化到未见的Defects4J基准测试上，在多个指标上超越现有方法。</li><li>更广泛的影响有两个方面：<ul><li><strong>fine-tune过程中prompt的设计可以产生重大影响</strong></li><li>我们主张<strong>采用token粒度的bug位置预测</strong>，而不是现有作品中普遍采用的行级或方法级预测。</li></ul></li></ul></li><li><p>RQ3 研究了四个不同prompt对fine-tune后LLMs的bug修复能力的影响</p><ul><li>发现3：<strong>为fine-tune设计良好的prompt能够显著提高bug修复准确性</strong>。此外，避免生成冗余的共享前缀和后缀可以获得最高的准确性。</li><li>更广泛的影响是，谨慎设计prompt并<strong>避免生成冗余代码对于提高bug修复效果至关重要</strong>。</li></ul></li><li><p>RQ4 研究了上下文信息对bug定位的影响</p><ul><li>发现4：额外的上下文信息，如错误行号或代码审查评论，显著提高预测bug起始和结束标记的准确性。</li><li>这一发现表明，如果适用，<strong>利用额外的上下文数据来辅助bug修复是有益的</strong>。</li></ul></li><li><p>RQ5 研究了我们的调整模块的益处，该模块旨在解决在bug定位和修复模型中使用的分词器之间的不一致性</p><ul><li>发现5：<strong>调整模块在110 - 400M参数的四个LLMs上始终可以提高bug修复准确性</strong>。</li><li>发现的更广泛意义是，在使用不同的分词器时建议使用调整模块。由于调整模块的训练相对昂贵，因此在使用较小的LLMs时更可取。</li></ul></li><li><p>RQ6 研究了在前两个最佳prompt（3和4）之间，在bug位置预测中使用哪个更有效</p><ul><li>发现6：当预测到的前缀和后缀位置非常准确时，prompt4优于prompt3。否则，对于特定的数据集、附加的上下文和基础LLM结构，选择prompt3和4取决于具体情况。</li><li>更广泛的影响是，在考虑bug位置预测的误差时，prompt3和4都可能是最佳选择，需要进行测试。</li></ul></li></ul><h3 id="实现">实现</h3><p>实现思路是编码解码器，类似于DL中的序列翻译，当然，中间还有一个调整模块作为Adapter，即同时利用预训练的编码器模型（用于bug定位）和预训练的自回归解码器模型（用于修复bug）。（总觉得对于调整模块来说应该是下图所示的关系，而非像右上图一样将location与fixing一起输入）</p><p><img src="image-20240809200420386.png" alt=""></p><h4 id="缺陷定位：基于预训练的CodeT5编码器模型">缺陷定位：基于预训练的CodeT5编码器模型</h4><p>给定一个有错误的函数，错误定位模型被训练用于确定共享前缀的结束位置（标记为有错误的标记的起始位置），以及共享后缀的开始位置（指示有错误的标记的结束位置）。位于这两个位置之间的标记被认为是有错误的，需要修复。</p><p>如下图（a），错误定位模型被训练用于定位红色部分，通过预测第一个&quot;()“作为有错误的标记的起始位置，以及在”.show&quot;之前的第二个&quot;()&quot;作为有错误的标记的结束位置。</p><p><img src="image-20240809211818301.png" alt=""></p><p>模型输入是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">n</span></span></span></span> 个代码标记和可选的上下文信息（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>n</mi><mo>+</mo><mi>m</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{n+m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8234109999999999em;vertical-align:-.208331em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.25833100000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span></span></span></span>）（例如代码审查注释或提交消息）组成的输入标记化有错误的函数，表示为向量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">t</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub><mo separator="true">,</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>t</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>+</mo><mi>m</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\bold t=(t_{cls},t_1,\dots,t_n,t_{n+m})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.63492em;vertical-align:0"></span><span class="mord mathbf">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:.01968em">l</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="minner">…</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.25833100000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，基本对应于图4(b)中黄色灰色框，其中额外的上下文信息可以作为上下文掩码（context mask）使用，如图4(b)所示。在计算损失时，这个掩码通常被用作掩蔽函数，确保上下文窗口之外的位置被选中的概率为零。</p><p>通过CodeT5的编码器进行编码，最终得到蓝色部分的代码标记的嵌入，用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">e</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>e</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub><mo separator="true">,</mo><msub><mi>e</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>e</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>e</mi><mrow><mi>n</mi><mo>+</mo><mi>m</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\bold e=(e_{cls},e_1,\dots,e_n,e_{n+m})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.44444em;vertical-align:0"></span><span class="mord mathbf">e</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:.01968em">l</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="minner">…</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.25833100000000003em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 表示，其中标注出了出错代码Token区域。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{cls}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.76508em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:.01968em">l</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 标记是添加在输入开头的特殊标记。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{cls}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.76508em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:.01968em">l</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 标记的嵌入（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">e_{cls}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:.01968em">l</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> ）用作对其他代码标记嵌入（𝒆）执行自注意力操作的查询向量。</p><p>模型使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">a</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\bold a^{pre}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.664392em;vertical-align:0"></span><span class="mord"><span class="mord mathbf">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.664392em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span></span></span></span></span></span></span></span></span></span></span></span> 表示错误前缀的注意力分数，预测的前缀标记 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>i</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow></msup></mrow><annotation encoding="application/x-tex">i^{pre}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.664392em;vertical-align:0"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.664392em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span></span></span></span></span></span></span></span></span></span></span></span>（即开始位置的错误标记）是具有最高注意力分数的标记：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi mathvariant="bold">a</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow></msup><mo>=</mo><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msubsup><mi>W</mi><mi>q</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow></msubsup><msub><mi>e</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub><mo>⋅</mo><msubsup><mi>W</mi><mi>k</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow></msubsup><mi mathvariant="bold">e</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><msup><mi>i</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow></msup><mo>=</mo><mi>a</mi><mi>r</mi><mi>g</mi><mi>m</mi><mi>a</mi><msubsup><mi>x</mi><mi>i</mi><mi>n</mi></msubsup><msup><mi mathvariant="bold">a</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\bold a^{pre} = softmax(W_q^{pre} e_{cls} \cdot W_k^{pre} \bold e)\\ i^{pre}= argmax_i^n \bold a^{pre}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.714392em;vertical-align:0"></span><span class="mord"><span class="mord mathbf">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.714392em"><span style="top:-3.1130000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.133108em;vertical-align:-.383108em"></span><span class="mord mathnormal">so</span><span class="mord mathnormal" style="margin-right:.10764em">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.714392em"><span style="top:-2.4530000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">q</span></span></span><span style="top:-3.1130000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.383108em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:.01968em">l</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1.083608em;vertical-align:-.3013079999999999em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7822999999999999em"><span style="top:-2.3986920000000005em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span><span style="top:-3.180908em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.3013079999999999em"><span></span></span></span></span></span></span><span class="mord mathbf">e</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:.714392em;vertical-align:0"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.714392em"><span style="top:-3.1130000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.961392em;vertical-align:-.247em"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mord mathnormal" style="margin-right:.03588em">g</span><span class="mord mathnormal">ma</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.7143919999999999em"><span style="top:-2.4530000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.247em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.714392em"><span style="top:-3.1130000000000004em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>后缀注意力分数与标记与前缀原理一致。用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">suf</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:.10764em">f</span></span></span></span> 上标标识。</p><h4 id="缺陷修复：fine-tuned-LLMs-and-Prompt">缺陷修复：fine-tuned LLMs and Prompt</h4><p>为了提高中等规模模型的性能，注入“强大”的诱导偏差（indicative bias）至关重要。对于错误修复，错误的位置是一种重要的诱导偏差。有效地利用这种偏差可以大幅提升语言模型的错误修复性能。这也是下面四种prompt的一个很大区别之处。</p><p><img src="image-20240809195149796.png" alt=""></p><p>prompt1是典型的代码补全样式prompt，要求模型生成一个完整的修复函数以替换错误的函数。这个prompt没有利用错误定位的bias。因此，值得注意的一个限制是它不能区分需要修复和不需要修复的部分。例如，图5中prompt1中错误函数部分的共享前缀&quot;<code>void showDialog</code>&quot;和共享后缀&quot;<code>.show();</code>&quot;不需要改变。</p><p>prompt2部分利用了位置偏差，并排除了预测中的共享前缀标记。共享前缀标记&quot;<code>void showDialog</code>&quot;在输入prompt中提供，以便错误修复模型不需要重新生成它们，只需生成被截断的修复函数。在prompt2中，共享前缀出现了两次：一次出现在错误代码的开头，一次出现在修复函数的开头。我们可以通过截断错误函数来优化这种冗余，如prompt3和4所示。</p><p>prompt3通过截断错误代码中的共享前缀标记消除了冗余。这种方法不仅可以防止模型预测非错误前缀，还可以指示模型从prompt的开头开始要求进行修改。通过引入这种强有力的诱导偏差，错误修复模型能够更有效地指导生成修复代码的开始。一旦模型生成了截断的修复代码，附加共享前缀将生成完整的修复代码供开发人员使用。</p><blockquote><p>但是并没有使用非错误后缀标记</p></blockquote><p>prompt4在prompt3中使用的策略基础上进行了改进。除了从错误代码中截断共享的非错误前缀标记(“<code>void showDialog</code>”)，它还截断了共享的非错误后缀标记(“<code>.show();</code>”)。这种方法不仅注入了诱导偏差，而且减少了模型需要生成的标记数。构建prompt4需要两个位置：错误标记的起始位置和结束位置。在实践中，当不知道确切的错误位置时，必须使用我们的位置预测模型进行预测。然而，准确预测两个位置是困难的，预测错误可能会影响prompt的整体有效性。因此，prompt3和prompt4之间的选择需要进一步研究，这将在第3.6节中解决。</p><h4 id="调整模块">调整模块</h4><p>思路就是将错误的token位置定位区间围绕预测位置进行平移（比如将区间分别前后移动几个token），最终学习一个最佳平移。这更像是对缺陷定位的一种修正。</p><p>但是我觉得，积既然这样都能有效，为啥不考虑进行区间扩张与收缩呢。但是扩张与收缩方案也不一定完全容易训练，而且小范围收缩与扩张可能效果并不显著，我觉得可以使用top k个扩张与收缩方案，得到多个修复方案，通过投票或者打分选择最佳方案（瞎想，而且显然会有效率问题）</p><p>但是这个思路还是有点意思的，<strong>即使错误定位模型无法准确预测位置，只要预测的起始和终止错误令牌位置分别位于真实位置之前和之后，错误修复模型仍然可以修复错误</strong>。</p><p>反正感觉最后效果非常有限，如图：</p><p><img src="image-20240810093822534.png" alt=""></p><h4 id="实现效果">实现效果</h4><p><img src="image-20240810115554231.png" alt=""></p><h2 id="An-Empirical-Study-on-Fine-tuning-Large-Language-Models-of-Code-for-Automated-Program-Repair">An Empirical Study on Fine-tuning Large Language Models of Code for Automated Program Repair</h2><p>来自IEEE/ACM International Conference on Automated Software Engineering (ASE)</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/LLMC-APR/STUDY">https://github.com/LLMC-APR/STUDY</a></p><h3 id="研究概述-2">研究概述</h3><p>选择了5个具有代表性预训练架构的流行的LLMCs，包括CodeBERT、GraphCode-BERT、PLBART、CodeT5和UniXcoder。</p><p>考虑了涉及3种编程语言（Java、C/C++和JavaScript）的3种典型的程序修复场景（即错误、漏洞和错误）。</p><p>将LLMCs应用于NMT微调范式中的APR工作流程涉及以下步骤：1）数据预处理，2）模型训练和调整，3）模型评估，4）补丁生成，5）补丁后处理，6）补丁验证。</p><p><img src="image-20240810100946580.png" alt=""></p><h4 id="数据预处理">数据预处理</h4><p>数据预处理阶段旨在将原始源代码转换为LLMC能够高效处理的格式。我们采用常见的做法，即使用 <strong>BFPs</strong> 进行学习，以将有缺陷的代码转换为<strong>方法级别上</strong>的修复代码。</p><ul><li><p>代码抽象处理：通过规范化代码元素，代码抽象可以减轻词汇表外（OOV）问题，并有助于模型学习通用的修复模式</p></li><li><p>代码表示：基于token sequence的四种表示方法</p><ul><li>CR1：NMT-based APR 工作的原始表示，它以整个有缺陷的方法作为输入，以整个修复的方法作为输出。CR1旨在使模型能够自动修复缺陷，无需故障定位（FL）。</li><li>CR2：CR2基于CR1，其中将错误/修复代码块用特殊标记符（&lt;BUGS&gt;，&lt;BUGE&gt;，&lt;FIXS&gt;，&lt;FIXE&gt;）标记，以便模型在FL信息的帮助下学习从错误代码到修复代码的转换。因此，我们分析了代码抽象对 LLMCs 修复能力的影响。</li><li>CR3：受 SequenceR的启发，我们从CR2中去除了修复代码的上下文，以减少模型输出的长度，加快训练和预测速度。这种表示方法用于分析简化修复目标（即输出）对修复能力的影响。（修复代码的上下文与错误代码上下文基本一致，可以看作冗余）</li><li>CR4：这是 VRepair 的多代码块修复的代码表示方法。与CR3不同，CR4使用不同的标记符方式来区分不同的修复行为（添加、删除、替换），因此具有更精细的标记粒度。通过比较，我们可以分析细粒度表示对修复能力的影响。</li><li>上述四种代码表示方法都支持单个代码块和多个代码块修复场景。</li></ul><img src="image-20240810120628681.png" style="zoom:67%"></li><li><p>代码标记化：使用subword级别的分词器（byte-pair encoding, BPE），BPE将频繁出现的字符序列替换为一个符号，从而得到一个更紧凑的词汇表。因此，它可以有效地减轻 APR 中的 OOV 问题，并且比单词级别的分词器效果更好</p></li></ul><h4 id="模型训练和调优">模型训练和调优</h4><p><strong>将模型都构建为编码器-解码器结构，将大型语言模型（LLMCs）扩展到用于微调的NMT模型架构</strong>。</p><ul><li><p>对于仅有编码器的LLMCs，添加解码器以构建Seq2Seq架构，并以监督方式进行微调。</p></li><li><p>对于编码器-解码器LLMCs，已经是Seq2Seq架构，不需要对结构进行更改。</p></li><li><p>对于仅有解码器的LLMCs，表现可能明显不如前两种LLMCs。</p></li></ul><p>Model Evaluation &amp; Patch Generation and Validation 非研究重点</p><h3 id="研究回答的问题">研究回答的问题</h3><p>在软件错误修复、安全漏洞修复和编程错误修复方面分别回答以下研究问题：</p><p>RQ1：不同的设计选择如何影响LLMC的修复能力？RQ1研究不同设计选择对LLMC修复能力的影响，可以更好地比较LLMC并提供精细调整LLMC的指导。我们将探究代码抽象、代码表示和检查点选择对实验结果的影响。</p><p>RQ2：LLMC的表现与最先进方法相比如何？RQ2旨在探索LLMC的修复能力。我们在多种缺陷类型、编程语言和缺陷复杂度下对其性能进行系统评估。此外，我们将LLMC与最先进的自动程序修复工具进行比较，以了解LLMC是否更为优越。</p><p>RQ3：哪些因素限制了精细调整LLMC的有效性？RQ3旨在揭示LLMC在精细调整时进行自动程序修复任务的一些缺点，并指出一些未来改进的方向。</p><h3 id="实验结果-软件缺陷修复">实验结果-软件缺陷修复</h3><p>表III展示了LLMC在不同修复任务上的修复结果：</p><p><img src="image-20240810112636005.png" alt=""></p><h4 id="不同的设计选择如何影响LLMC的修复能力？">不同的设计选择如何影响LLMC的修复能力？</h4><h5 id="代码抽象">代码抽象</h5><p>即表III中abs与raw的区别。对于修复结果有影响，但影响较小</p><p>这个现象有两个主要原因。首先，由于<strong>LLMC通常是在未经处理的原始源代码上进行预训练的，它们更适合于与下游任务使用相同的未经处理的原始数据</strong>。其次，<strong>代码抽象可能会丢失一些语义信息</strong>（例如特殊的函数和变量名），这使得学习修复模式变得困难。</p><p>在精调LLMC时，使用未经代码抽象处理（即原始源代码）的数据格式更合适。</p><h5 id="代码表示">代码表示</h5><p>CR3可以更有效地在LLMC上工作。首先，使用特殊标记标记故障/修复位置可以使模型专注于有针对性的学习代码修复行为。其次，LLMC受到长序列问题的困扰。<strong>随着输入/输出长度的增加，LLMC的修复准确性会降低</strong>。从输出序列中剔除不相关的上下文等效于减少输出长度，因此可以提高模型的修复能力。</p><h5 id="CheckPoint选择">CheckPoint选择</h5><p>BLEU更好地与训练数据对齐，而PPL表现出更好的泛化性能。当数据特征相似时，使用BLEU是更好的选择；否则，更倾向于使用PPL。然而，在实际中很难知道训练和测试样本之间的差异。因此，我们采用了之前的研究的做法，使用 ensemble<br>strategy 来结合多个检查点（PPL/BLEU/Last）以增强修复能力。</p><h4 id="LLMC的表现与最先进方法相比如何？">LLMC的表现与最先进方法相比如何？</h4><p>LLMC的修复能力在bug修复任务中显示出很大的潜力。此外，小规模模型可能会取得类似甚至更好的结果比大模型。</p><blockquote><p>原文提到：</p><p>我们发现使用LLMC UniXcoder和CodeT5在bug修复任务上超过了之前的工作。这表明，对LLMC进行微调具有很大的APR研究潜力。值得注意的是，较小规模的UniXcoder-base（125M）取得了类似甚至更好的结果比CodeT5-base（220M）。</p><p>但是其实上一篇论文的准确率与模型大小几乎成正比。。。。</p><p>但是两篇选的模型也不一样，所以还是有待商榷</p></blockquote><p>同时LLMCs修复multi-hunk更困难。</p><p>对于数据泄露，即预训练数据（CSN，即CodeSearchNet）与测试基准（D4J，即Defects4J）之间的重叠，经过充分微调后，LLMCS受数据泄露的影响较小。然而，这暴露了LLMCS在微调范式下的灾难性遗忘问题。</p><h4 id="限制微调LLMCS有效性的因素是什么？">限制微调LLMCS有效性的因素是什么？</h4><ul><li><p><strong>缺乏修复上下文</strong>。方法级别的BFPs和有限的模型输入/输出长度可能会缺失指导修复所需的上下文信息，从而限制LLMC的修复能力。</p></li><li><p><strong>计算资源和模型大小</strong>。计算资源的缺乏和模型大小过大可能会阻碍LLMCs生成更多候选补丁。</p></li></ul><h3 id="实验结果-安全漏洞修复">实验结果-安全漏洞修复</h3><h4 id="不同设计选择如何影响-LLMCs-的修复能力？">不同设计选择如何影响 LLMCs 的修复能力？</h4><p>代码表示：使用细粒度的代码表示方式不利于充分发挥 LLMCs 的修复能力，CR3 仍然是在漏洞修复方面最好的表示方法。</p><p>原因：使用 CR3 得到的修复结果都优于使用 CR4 得到的结果。这是因为这两种表示方法在标记修复行为的复杂性方面存在差异。在 CR3 中，所有的修复行为都被看作是替换操作。而在 CR4 中，使用了三个不同的标记来表示添加、删除和替换操作，提供了更细粒度的标记级别的修复位置。然而，这种策略的复杂性可能会妨碍模型理解不同的修复动作并准确地在精确的位置实施修复。因此，模型的修复能力可能会受到影响。事实上，所有的修复行为都可以简化为替换操作（即修复替换了错误位置）。虽然 CR3 使用了粗粒度的标记方法，但它简化了修复操作，从而提高了模型的修复能力。</p><p>检查点选择：使用 BLEU 得到的修复结果优于使用 PPL 和 LOSS 得到的结果。</p><h4 id="与最先进方法相比，LLMC-的性能如何？">与最先进方法相比，LLMC 的性能如何？</h4><p>性能与泛化性较好，multi-hunk仍然是一个挑战。</p><h4 id="限制精调LLMC效果的因素是什么？">限制精调LLMC效果的因素是什么？</h4><ul><li>长尾问题。当某一类型的漏洞样本较少时，性能较差。这是经典的长尾问题，挑战了在具有不均衡类别分布的大型数据集上对模型进行有效训练。</li><li>长序列问题。随着输入/输出序列长度的增加，模型的修复能力降低。这是一个普遍性的问题。</li></ul><h3 id="Discussion">Discussion</h3><p>讨论了我们研究中发现的影响LLMC修复能力的限制，并寻求改进的方向。</p><ul><li><p><strong>预训练知识的丧失/遗忘问题</strong>：在微调后，LLMC可能会失去一些从预训练阶段学到的知识。此外，我们注意到AlphaRepair 将修复任务转化为文本填空任务（MLM），而不是翻译任务（NMT）。文本填空任务更适合模型的预训练任务（即MLM），即根据上下文令牌预测掩码位置上的令牌。然而，目前不清楚使用这两种范式（NMT和MLM）的修复能力有何不同。因此，我们建议探索以下两个方向。</p><ul><li>D1：缓解灾难性遗忘。</li><li>D2：NMT vs. MLM。通过使用NMT和MLM任务对LLMC进行微调，可以探索这两种学习范式之间的修复能力差异。</li></ul></li><li><p><strong>缺乏修复上下文和长序列问题</strong>。</p><ul><li>D1：精确上下文提取。通过数据/控制流分析，我们可以修剪掉无关的上下文，帮助确定缺陷位置并指导修复。</li><li>D2：关键修复成分。我们可以将基于冗余假设的传统APR技术与LLMC集成，将额外的修复元素引入模型输入。</li><li>D3：突破长度限制。对于涵盖更多修复成分的长序列建模，可以采用MegaByte方法。此外，采用滑动编码器和解码器（SLED） 将输入划分为重叠的块可能有助于接受长和/或依赖性方法。</li></ul></li><li><p><strong>计算资源和模型大小</strong>：通常较大的模型大小对计算资源提出了高要求。因此，如何在低资源场景中优化部署LLMC的问题是一个实际问题。</p><ul><li>D1：模型蒸馏。</li><li>D2：高效推理。在生成更多候选修复时，可以采用稀疏机制和有限差异束搜索 limited discrepancy beam search</li><li>D3：参数效率微调（PEFT）。</li></ul></li><li><p><strong>长尾问题</strong>。</p><ul><li>D1: 数据增强。</li><li>D2: 组合多个PLs。我们还可以使用meta learning，将多个PLs进行整合，以增强LLMC的多语言修复能力。</li></ul></li><li><p><strong>Multi-Hunk Fixes</strong>。</p><ul><li>D1：捕捉复杂代码依赖性。捕获全局依赖关系的树或图结构可以增强模型理解和处理复杂修复任务的能力。</li><li>D2：提取深层次的语义信息。利用高层次的语义信息（如字节码和中间表示）可以帮助模型理解缺陷的根本原因，从而增强其修复能力。</li></ul></li></ul></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://zwn2001.space">琉璃月</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zwn2001.space/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper2-%E5%9F%BA%E4%BA%8ELLM%E7%9A%84%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D/">https://zwn2001.space/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper2-%E5%9F%BA%E4%BA%8ELLM%E7%9A%84%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zwn2001.space" target="_blank">ZWN's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BA%E6%96%87/">论文</a></div><div class="post_share"><div class="social-share" data-image="/img/cover/14.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://unpkg.com/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper3-Katana-Dual-Slicing-Based-Context-for-Learning-Bug-Fixes/" title="读paper3-Katana_Dual_Slicing-Based_Context_for_Learning_Bug_Fixes"><img class="cover" src="/img/cover/57.jpg" onerror='onerror=null,src="/img/404.webp"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">读paper3-Katana_Dual_Slicing-Based_Context_for_Learning_Bug_Fixes</div></div></a></div><div class="next-post pull-right"><a href="/posts/Graduate-Works/DL/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-LogSumExp%E6%8A%80%E5%B7%A7/" title="深度学习-LogSumExp技巧"><img class="cover" src="/img/cover/49.jpg" onerror='onerror=null,src="/img/404.webp"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">深度学习-LogSumExp技巧</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper1-%E9%92%88%E5%AF%B9DL%E7%9A%84%E7%BC%BA%E9%99%B7%E5%88%86%E7%B1%BB%E4%B8%8E%E4%BF%AE%E5%A4%8D/" title="读paper1-针对DL的缺陷分类与修复"><img class="cover" src="/img/cover/32.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-26</div><div class="title">读paper1-针对DL的缺陷分类与修复</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper10-%E4%BB%A3%E7%A0%81%E7%9B%B8%E4%BC%BC%E5%BA%A6/" title="读paper10-代码相似度"><img class="cover" src="/img/cover/41.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-05</div><div class="title">读paper10-代码相似度</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper17-%E5%9F%BA%E4%BA%8ELLM%E7%9A%84%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D4%E4%B8%8E%E4%BF%AE%E5%A4%8D%E6%8F%90%E7%A4%BA%E8%AF%8D/" title="读paper17-基于LLM的缺陷修复4与修复提示词"><img class="cover" src="/img/cover/58.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-08</div><div class="title">读paper17-基于LLM的缺陷修复4与修复提示词</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper16-%E5%BE%AE%E8%B0%83LLM%E7%9A%84APR%E4%B8%8E%E6%AD%A3%E7%A1%AE%E6%80%A7%E9%AA%8C%E8%AF%81/" title="读paper16-微调LLM的APR与正确性验证"><img class="cover" src="/img/cover/53.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-03</div><div class="title">读paper16-微调LLM的APR与正确性验证</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper12-%E9%9D%99%E6%80%81%E8%AD%A6%E6%8A%A5%E8%87%AA%E5%8A%A8%E7%A1%AE%E8%AE%A4%E4%B8%8ELLM%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%80%A7%E8%AF%84%E4%BC%B0/" title="读paper12-静态警报自动确认"><img class="cover" src="/img/cover/7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-28</div><div class="title">读paper12-静态警报自动确认</div></div></a></div><div><a href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper11-%E5%9F%BA%E4%BA%8ELLM%E7%9A%84%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D3/" title="读paper11-基于LLM的缺陷修复3"><img class="cover" src="/img/cover/16.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-22</div><div class="title">读paper11-基于LLM的缺陷修复3</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">琉璃月</div><div class="author-info__description">我虽无意逐鹿，却知苍生苦楚</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">176</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ZWN2001"><i class="fab fa-github"></i><span>我的Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ZWN2001" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">新域名：www.zwn2001.space，有效期：10年。https://www.zwn-blog.xyz已过期。访问时建议科学上网，否则博客内公式渲染会出现问题且速度慢。Ctrl+shift+r可强制刷新网站以避免浏览器缓存造成的更新不及时</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">读paper2-基于LLM的缺陷修复</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#A-Deep-Dive-into-Large-Language-Models-for-Automated-Bug-Localization-and-Repair"><span class="toc-number">1.1.</span> <span class="toc-text">A Deep Dive into Large Language Models for Automated Bug Localization and Repair</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%94%E7%A9%B6%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text">研究概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.1.2.</span> <span class="toc-text">实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E9%99%B7%E5%AE%9A%E4%BD%8D%EF%BC%9A%E5%9F%BA%E4%BA%8E%E9%A2%84%E8%AE%AD%E7%BB%83%E7%9A%84CodeT5%E7%BC%96%E7%A0%81%E5%99%A8%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">缺陷定位：基于预训练的CodeT5编码器模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D%EF%BC%9Afine-tuned-LLMs-and-Prompt"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">缺陷修复：fine-tuned LLMs and Prompt</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E6%95%B4%E6%A8%A1%E5%9D%97"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">调整模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%95%88%E6%9E%9C"><span class="toc-number">1.1.2.4.</span> <span class="toc-text">实现效果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#An-Empirical-Study-on-Fine-tuning-Large-Language-Models-of-Code-for-Automated-Program-Repair"><span class="toc-number">1.2.</span> <span class="toc-text">An Empirical Study on Fine-tuning Large Language Models of Code for Automated Program Repair</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%94%E7%A9%B6%E6%A6%82%E8%BF%B0-2"><span class="toc-number">1.2.1.</span> <span class="toc-text">研究概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">数据预处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%92%8C%E8%B0%83%E4%BC%98"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">模型训练和调优</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%94%E7%A9%B6%E5%9B%9E%E7%AD%94%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.2.</span> <span class="toc-text">研究回答的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-%E8%BD%AF%E4%BB%B6%E7%BC%BA%E9%99%B7%E4%BF%AE%E5%A4%8D"><span class="toc-number">1.2.3.</span> <span class="toc-text">实验结果-软件缺陷修复</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E7%9A%84%E8%AE%BE%E8%AE%A1%E9%80%89%E6%8B%A9%E5%A6%82%E4%BD%95%E5%BD%B1%E5%93%8DLLMC%E7%9A%84%E4%BF%AE%E5%A4%8D%E8%83%BD%E5%8A%9B%EF%BC%9F"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">不同的设计选择如何影响LLMC的修复能力？</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8A%BD%E8%B1%A1"><span class="toc-number">1.2.3.1.1.</span> <span class="toc-text">代码抽象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%A1%A8%E7%A4%BA"><span class="toc-number">1.2.3.1.2.</span> <span class="toc-text">代码表示</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#CheckPoint%E9%80%89%E6%8B%A9"><span class="toc-number">1.2.3.1.3.</span> <span class="toc-text">CheckPoint选择</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LLMC%E7%9A%84%E8%A1%A8%E7%8E%B0%E4%B8%8E%E6%9C%80%E5%85%88%E8%BF%9B%E6%96%B9%E6%B3%95%E7%9B%B8%E6%AF%94%E5%A6%82%E4%BD%95%EF%BC%9F"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">LLMC的表现与最先进方法相比如何？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%90%E5%88%B6%E5%BE%AE%E8%B0%83LLMCS%E6%9C%89%E6%95%88%E6%80%A7%E7%9A%84%E5%9B%A0%E7%B4%A0%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">限制微调LLMCS有效性的因素是什么？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D"><span class="toc-number">1.2.4.</span> <span class="toc-text">实验结果-安全漏洞修复</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E8%AE%BE%E8%AE%A1%E9%80%89%E6%8B%A9%E5%A6%82%E4%BD%95%E5%BD%B1%E5%93%8D-LLMCs-%E7%9A%84%E4%BF%AE%E5%A4%8D%E8%83%BD%E5%8A%9B%EF%BC%9F"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">不同设计选择如何影响 LLMCs 的修复能力？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E6%9C%80%E5%85%88%E8%BF%9B%E6%96%B9%E6%B3%95%E7%9B%B8%E6%AF%94%EF%BC%8CLLMC-%E7%9A%84%E6%80%A7%E8%83%BD%E5%A6%82%E4%BD%95%EF%BC%9F"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">与最先进方法相比，LLMC 的性能如何？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%90%E5%88%B6%E7%B2%BE%E8%B0%83LLMC%E6%95%88%E6%9E%9C%E7%9A%84%E5%9B%A0%E7%B4%A0%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">限制精调LLMC效果的因素是什么？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Discussion"><span class="toc-number">1.2.5.</span> <span class="toc-text">Discussion</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper23-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%842/" title="读paper23-arxiv代码修复论文组2"><img src="/img/cover/50.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="读paper23-arxiv代码修复论文组2"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper23-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%842/" title="读paper23-arxiv代码修复论文组2">读paper23-arxiv代码修复论文组2</a><time datetime="2025-07-12T07:50:19.000Z" title="发表于 2025-07-12 15:50:19">2025-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Works/CoderLLM%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%951/" title="CoderLLM训练记录"><img src="/img/cover/58.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="CoderLLM训练记录"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Works/CoderLLM%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%951/" title="CoderLLM训练记录">CoderLLM训练记录</a><time datetime="2025-06-15T12:11:50.000Z" title="发表于 2025-06-15 20:11:50">2025-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Works/%E9%92%88%E5%AF%B9d4j%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/" title="针对d4j的一些思考"><img src="/img/cover/8.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="针对d4j的一些思考"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Works/%E9%92%88%E5%AF%B9d4j%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/" title="针对d4j的一些思考">针对d4j的一些思考</a><time datetime="2025-06-04T04:56:57.000Z" title="发表于 2025-06-04 12:56:57">2025-06-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper22-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%84/" title="读paper22-arxiv代码修复论文组"><img src="/img/cover/15.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="读paper22-arxiv代码修复论文组"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper22-arxiv%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E8%AE%BA%E6%96%87%E7%BB%84/" title="读paper22-arxiv代码修复论文组">读paper22-arxiv代码修复论文组</a><time datetime="2025-06-03T13:50:38.000Z" title="发表于 2025-06-03 21:50:38">2025-06-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper21-%E9%80%9A%E8%BF%87%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E5%8A%A8%E4%BD%9C%E9%87%8D%E9%87%87%E6%A0%B7%E4%BB%A5%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%99%BA%E8%83%BD%E4%BD%93%E6%80%A7%E8%83%BD/" title="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能"><img src="/img/cover/12.jpg" onerror='this.onerror=null,this.src="/img/404.webp"' alt="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能"></a><div class="content"><a class="title" href="/posts/Graduate-Works/Paper-Read/%E8%AF%BBpaper21-%E9%80%9A%E8%BF%87%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E5%8A%A8%E4%BD%9C%E9%87%8D%E9%87%87%E6%A0%B7%E4%BB%A5%E6%8F%90%E9%AB%98%E7%BC%96%E7%A0%81%E6%99%BA%E8%83%BD%E4%BD%93%E6%80%A7%E8%83%BD/" title="读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能">读paper21-通过自适应树遍历进行动态动作重采样以提高编码智能体性能</a><time datetime="2025-05-18T07:12:34.000Z" title="发表于 2025-05-18 15:12:34">2025-05-18</time></div></div></div></div></div></div></main><footer id="footer" style="background:0 0"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" rel="external nofollow noreferrer"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();" rel="external nofollow noreferrer"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();" rel="external nofollow noreferrer"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.google.com/search?q=&quot;+window.getSelection().toString());" rel="external nofollow noreferrer"><i class="iconfont icon-baidu"></i><span>搜索</span></a><a class="rightMenu-item" href="javascript:rmf.searchinThisPage();" rel="external nofollow noreferrer"><i class="fas fa-search"></i><span>站内搜索</span></a><a class="rightMenu-item" href="#post-comment" onclick="rmf.yinyong()"><i class="fa-solid fa-message"></i><span>引用文本评论</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()" rel="external nofollow noreferrer"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()" rel="external nofollow noreferrer"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()" rel="external nofollow noreferrer"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.click()" rel="external nofollow noreferrer"><i class="fa fa-arrows-alt"></i><span>全屏显示</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" rel="external nofollow noreferrer"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:rmf.translate();" rel="external nofollow noreferrer"><i class="iconfont icon-fanti"></i><span>繁简转换</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();" rel="external nofollow noreferrer"><i class="fa fa-book"></i><span>阅读模式</span></a><a class="rightMenu-item" href="javascript:fullScreen();" rel="external nofollow noreferrer"><i class="fas fa-expand"></i><span>进入全屏</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://unpkg.com/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://unpkg.com/katex/dist/katex.min.css"><script src="https://unpkg.com/katex/dist/contrib/copy-tex.min.js"></script><script>document.querySelectorAll("#article-container span.katex-display").forEach(a=>{btf.wrap(a,"div",{class:"katex-wrap"})})</script><script>function getGiscusTheme(e){return"dark"===e?"dark":"light"}function loadGiscus(){var e,t=Object.assign({src:"https://giscus.app/client.js","data-repo":"ZWN2001/ZWN2001.github.io","data-repo-id":"R_kgDOGH1XWg","data-category-id":"DIC_kwDOGH1XWs4CXnHJ","data-mapping":"pathname","data-theme":getGiscusTheme(document.documentElement.getAttribute("data-theme")),"data-reactions-enabled":"1",crossorigin:"anonymous",async:!0},{"data-lang":"zh-CN","data-loading":"lazy",crossorigin:"anonymous","data-mapping":"og:title","data-input-position":"top","data-category":"Announcements"}),a=document.createElement("script");for(e in t)a.setAttribute(e,t[e]);document.getElementById("giscus-wrap").insertAdjacentElement("afterbegin",a)}function changeGiscusTheme(e){var t;e={setConfig:{theme:getGiscusTheme(e)}},(t=document.querySelector("iframe.giscus-frame"))&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")}function loadOtherComment(){loadGiscus()}btf.addModeChange("giscus",changeGiscusTheme),btf.loadComment(document.getElementById("giscus-wrap"),loadGiscus)</script></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script><script type="text/javascript" src="/js/rightmenu.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script data-pjax>var parent,child;document.getElementById("recent-posts")&&"/"===location.pathname&&(parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://zwn2001.space/categories/编程知识/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 琉璃月の编程知识 (13)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zwn2001.space/categories/实用知识/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 琉璃月の实用知识 (10)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zwn2001.space/categories/学习-课外拓展/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 琉璃月の学习-课外拓展 (39)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zwn2001.space/categories/学习-课内知识/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 琉璃月の学习-课内知识 (59)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://zwn2001.space/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>',console.log("已挂载magnet"),parent.insertAdjacentHTML("afterbegin",child))</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style></body></html>