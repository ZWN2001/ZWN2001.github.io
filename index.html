<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>ZWN's blog</title><meta name="author" content="ZWN"><meta name="copyright" content="ZWN"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="我虽无意逐鹿，却知苍生苦楚">
<meta property="og:type" content="website">
<meta property="og:title" content="ZWN&#39;s blog">
<meta property="og:url" content="https://zwn2001.github.io/index.html">
<meta property="og:site_name" content="ZWN&#39;s blog">
<meta property="og:description" content="我虽无意逐鹿，却知苍生苦楚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zwn2001.github.io/img/favicon.png">
<meta property="article:author" content="ZWN">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zwn2001.github.io/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zwn2001.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/pwa/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/pwa/16.png"/><link rel="mask-icon" href="/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":100,"languages":{"author":"作者: ZWN","link":"链接: ","source":"来源: ZWN's blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ZWN\'s blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-07-03 00:17:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">85</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/bg.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">ZWN's blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ZWN's blog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/ZWN2001" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/15/%E7%BD%AE%E9%A1%B6/" title="置顶"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/55.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="置顶"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/15/%E7%BD%AE%E9%A1%B6/" title="置顶">置顶</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-15T09:38:00.000Z" title="发表于 2021-12-15 17:38:00">2021-12-15</time></span></div><div class="content">举头望明月，万般感怀皆在其中， 此情此景，犹如天星照我，愿逐月华。


It’s not too late to seek a new world. For my purpose holds to sail beyond the sunset. And though we are not that strength which in old days moved Earth and heaven. That which we are, we are: one equal temper of heroic hearts made weak by time and feat, but strong in will to strive, to seek, to find and not to yield.


I go through that so much. I doubt myself every single day. No matter what happens, I continue to doubt myself. And I think I always will and I ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/06/09/%E4%B8%80%E4%BA%9B%E9%9A%8F%E6%83%B3/" title="随想"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/add1/2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="随想"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/09/%E4%B8%80%E4%BA%9B%E9%9A%8F%E6%83%B3/" title="随想">随想</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-09T13:32:52.000Z" title="发表于 2022-06-09 21:32:52">2022-06-09</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%97%A5%E5%B8%B8/">日常</a></span></div><div class="content">
2022.6.10

高考两周年了，心里总是很怀念从前。晚上梦到自己获得了自己曾经失去的很多东西，但也失去了很多自己非常珍重的东西，一时之间竟不知是该喜还是该悲。我常常回忆起往昔的岁月，那时的我们有着共同的理想，能同甘，也能共苦，而如今，熙熙攘攘，不过皆是匆匆过客。
有时我也曾回忆自己走过的漫漫路程，深感无奈，我们走上并非我们所选择的舞台，演出并非我们所选择的剧本，在深夜无助之时我也曾怀疑自己这一路走来究竟意义何在，也曾怀疑自己当初的选择是否正确，然而，随着时间的流逝我们终将失去很多珍贵的东西，那不是我们的意志所能改变的，我们只是活在，活好当下。
有时在梦里我向我所见之人求助，希望他们能在我迷茫之时给我的人生一些指引，但最终我终会意识到，我只不过是在叩问自己的内心，下一步该如何走。我并不认为有人能将自己的人生规划地完美，至少我不会是这样。我的人生已经有太多遗憾，虽然有时这些遗憾也是一份新的契机，但终究是一块抚不平的伤疤，有时我也试图能给自己的人生足够明确的指引但最终发现这样做不过是徒劳，我并不喜欢见异思迁但时间总会带来太多变数。不过这并不会阻挡我向前看，纵有层层迷雾笼罩，我也希望能在 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/06/28/os-note1-6/" title="操作系统os-chapter1-6"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/add1/6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统os-chapter1-6"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/28/os-note1-6/" title="操作系统os-chapter1-6">操作系统os-chapter1-6</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-28T10:40:26.000Z" title="发表于 2022-06-28 18:40:26">2022-06-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">第一章
什么是操作系统
操作系统是一组控制和管理计算机硬件和软件资源、合理地对各类作业(程序）进行调度，以及方便用户的程序集合。操作系统是用户和计算机的接口，同时也是计算机硬件和其他软件的接口。
书上定义为操作系统是一直运行在计算机上的程序（通常称为内核）
操作系统最基本的两个特征：并发和共享
计算机系统组成

计算机系统的组织
计算机系统操作
计算机启动过程
https://zhuanlan.zhihu.com/p/60929600

其实电脑启动的过程是一个十分完善的硬件自检的过程，在加电自检的那几秒钟里面计算机可以完成上百道工序，下面就由我来与大家介绍一下这个过程。
第一步：在主板接通电源之后，系统就由POST(Power On Self Test,上电自检)开始自检，在我们刚刚接通电源的时候，整个系统由BIOS控制，电压还不太稳定（这个过程非常短暂，一般只有几毫秒，这个时候电压的稳定完全依靠主板和电源内部的滤波电容进行），主板芯片组会向CPU发出reset的命令让CPU开始初始化，同时主板芯片组等待电源发出POWE GOOD命令，一旦电源发出POWER GOOD命令，主板芯片组 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/06/28/os-note7-13/" title="操作系统os-chapter7-13"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/37.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统os-chapter7-13"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/28/os-note7-13/" title="操作系统os-chapter7-13">操作系统os-chapter7-13</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-28T00:40:26.000Z" title="发表于 2022-06-28 08:40:26">2022-06-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">第七章：死锁
死锁模型

死锁的概念还是经常考的


多道程序环境下，多个进程竞争有限资源。如果某个进程需求的资源被其他进程占用，则该进程可能被永久阻塞，这种情况称为 死锁（deadlock） 。
进程按照如下顺序使用资源：

申请（Request） ：如果申请不能被允许（如资源正在被其他进程占用），则申请进程必须等待直到获得资源
使用（Use）
释放（Release）


资源的申请和释放都是系统调用，如设备的 request()/release()，文件的 open()/close()，内存的 allocate()/free() 等。对于进程或线程的每次执行，操作系统会检查并确保它们以获得所需资源。系统维护一张记录表，说明某个资源是否空闲，被分配给哪个进程。
永久性资源可分为：

可剥夺资源（可重用资源）：当进程所占有的并使用的资源被剥夺时，对进程不产生破坏性影响（如内存、CPU）
不可剥夺资源：如打印机等，一旦剥夺则任务执行失败



死锁与饥饿/饿死的区别

也考过



Deadlock: A process waits for a resource that is curr ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/06/27/%E4%BC%97%E6%99%BA-%E7%A4%BE%E4%BC%9A%E7%BD%91%E7%BB%9C/" title="众智-社会网络"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="众智-社会网络"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/27/%E4%BC%97%E6%99%BA-%E7%A4%BE%E4%BC%9A%E7%BD%91%E7%BB%9C/" title="众智-社会网络">众智-社会网络</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-27T00:27:07.000Z" title="发表于 2022-06-27 08:27:07">2022-06-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BC%97%E6%99%BA/">众智</a></span></div><div class="content">社会网络
三元闭包
在一个社交圈内，若两个人有一个共同的朋友，则这两人在未来成为朋友的可能性就会提高。我们将上述原则称为三元闭包
原理的拓展
量：两个人的共同朋友越多，则他们成为朋友的可能性越高
质：两个人与共同朋友的关系越密切，则他们成为朋友的可能性越高
如何定义考察三元闭包现象的测度
当前共同朋友数与后来成为朋友的概率关系
数据验证

统计相同数量的共同朋友下，出现新边（成为朋友）的概率
如何计算共同朋友数
邻接矩阵相乘

节点聚集系数
刻画三元闭包现象的一个常用参数，描述某个节点对朋友的聚集能力
节点A的聚集系数 = A的任意两个朋友之间也是朋友的概率（即邻居间朋友对的个数除以总对数）
社会网络结构的统计特征
度分布（包括图的入度和出度）


度分布函数。P(k）表示网络中度为k的节点在整个网络中所占的比例。


累积度分布函数（CumulativeDegree Distribution Function）。PkP_kPk​表示度不小于k的节点的概率分布，其分布关系为Pk=∑x=k∞P(x)P_k=\sum_{x=k}^{\infty}{P(x)}Pk​=∑x=k∞​P(x)

 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/06/27/%E4%BC%97%E6%99%BA-%E5%8D%9A%E5%BC%88%E8%AE%BA/" title="众智-博弈论"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="众智-博弈论"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/27/%E4%BC%97%E6%99%BA-%E5%8D%9A%E5%BC%88%E8%AE%BA/" title="众智-博弈论">众智-博弈论</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-26T23:27:29.000Z" title="发表于 2022-06-27 07:27:29">2022-06-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BC%97%E6%99%BA/">众智</a></span></div><div class="content">博弈论基础
基本概念


参与人（player，玩家）


策略集（Strategy，战略）


回报（payoff，受益）


策略组：每个参与人出一个策略构成的策略组合


例如：


收益矩阵：表达博弈的一种直观方式


博弈中的行为推理
首先，假设参与人关心的是自身的最终收益。
其次，还假设每个参与人对博弈结构具有充分信息。 这意味着参与人都知道他／她自身的可能策略集。
最后，进一步假设每个个体策略的选择都是为了达到自身收益的最大化，假定他／她也知道其他参与人也会选择收益最大化的策略。 有关个体行为策略模式，通常被称为是理性化模型，且个体行为模型实际上结合了两种观点。
一是每个参与人都想要自已受益的最大化。因为个体收益被定义为是个体最在意的，这种假设看起来合理。
二是每个参与人实际上都会选择最优策略。在简单的设置背景下，假设博弈中的参与人都是有经验的，这似乎就更加合理。 在复杂博弈中，或者博弈中的参与人是经验比较少的，则确实是不够合理。
基于上面的假设，当无论其他参与人选择何种行为策略时，都会存在一个决策是最佳选择，则定义这个策略是严格占优策略 (strictly domina ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/06/23/database-system-concepts-1/" title="database-system-concepts-1"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/57.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="database-system-concepts-1"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/23/database-system-concepts-1/" title="database-system-concepts-1">database-system-concepts-1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-23T15:47:33.000Z" title="发表于 2022-06-23 23:47:33">2022-06-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5/">数据库系统概念</a></span></div><div class="content">基本概念
数据
数据(Data)是数据库中存储的基本对象
数据的定义
描述事物(对象)的符号记录

数据是现实世界运转留下的痕迹

数据的特点
数据与其语义是不可分的
数据库
数据库(Database,简称DB)是长期储存在计算机内、有组织的、可共享的大量数据集合
数据库的特征

数据按一定的数据模型组织、描述和储存
在磁盘上的基本组织形式是文件
可为各种用户共享
冗余度较小
数据独立性较高
易扩展

数据库管理系统
数据库管理系统(Database Management System，简称DBMS)由一个互相关联的数据的集合和一组用以访问这些数据的程序组成。是位于用户与操作系统之间的一层数据管理软件。

DBMS的目标
科学地组织和存储数据、高效方便地获取和维护数据
DBMS的主要功能


数据定义功能

提供数据定义语言(DDL)
定义数据库中的数据对象



数据操纵功能

提供数据操纵语言(DML)操纵数据
实现对数据库的基本操作 (查询、插入、删除和修改)



数据库的运行管理

保证数据的安全性、完整性
多用户对数据的并发使用
发生故障后的系统恢复



数据库的建立和维 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/06/23/database-system-concepts-2/" title="database-system-concepts-2"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="database-system-concepts-2"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/23/database-system-concepts-2/" title="database-system-concepts-2">database-system-concepts-2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-23T15:05:43.000Z" title="发表于 2022-06-23 23:05:43">2022-06-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5/">数据库系统概念</a></span></div><div class="content">通用样例

关系模型
关系的基本概念
域（Domain）

一组值的集合，这组值具有相同的数据类型
域的基数：集合的值的个数

笛卡尔积(Cartesian Product)

一组域D1,D2,…,DnD_1 , D_2 ,…, D_nD1​,D2​,…,Dn​的笛卡尔积为:

D1×D2×…×Dn={(d1,d2,…,dn)∣di∈Di,i=1,…,n}D_1\times D_2\times …\times D_n = \{(d_1,d_2,…,d_n) | d_i∈D_i , i=1,…,n\}D1​×D2​×…×Dn​={(d1​,d2​,…,dn​)∣di​∈Di​,i=1,…,n}


笛卡尔积的每个元素(d1,d2,…,dn)(d_1,d_2,…,d_n)(d1​,d2​,…,dn​)称作一个n-元组(n-tuple)


元组的每一个值 did_idi​ 叫做一个分量(component)


若DiD_iDi​的基数为mim_imi​，则笛卡尔积的基数为∏i=1nmi\prod_{i=1}^{n}{m_i}∏i=1n​mi​



关系


笛卡尔积D1×D2×…×D ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/06/23/database-system-concepts-3/" title="database-system-concepts-3"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/add1/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="database-system-concepts-3"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/23/database-system-concepts-3/" title="database-system-concepts-3">database-system-concepts-3</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-23T14:24:30.000Z" title="发表于 2022-06-23 22:24:30">2022-06-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5/">数据库系统概念</a></span></div><div class="content">SQL
SQL概述
特点


一体化

集DDL，DML，DCL于一体
单一的结构----关系，带来了数据操作符的统一



面向集合的操作方式

一次一集合



高度非过程化

用户只需提出“做什么”，无须告诉“怎么做”，不必了解存取路径



两种使用方式，统一的语法结构

SQL既是自含式语言，又是嵌入式语言



对于关键字：大小写不敏感


组成


数据定义语言(DDL)


数据操纵语言 (DML)


数据控制语言(DCL)


事务控制(Transaction Control)


嵌入式SQL和动态SQL(Embedded SQL and Dynamic SQL)


基本数据类型


char(n)：固定长度的字符串

长度不够使用空格补齐（取出时会自动trim把空格去掉）



varchar(n)：可变长字符串(varchar2)

n是字符串长度上限



int：整数(-231–231-1)


smallint：小整数类型(-215–215-1)


numeric(p，d)：定点数，小数点左边p位，右边q位


real：浮点数


double p ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/06/23/database-system-concepts-4/" title="database-system-concepts-4"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="database-system-concepts-4"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/23/database-system-concepts-4/" title="database-system-concepts-4">database-system-concepts-4</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-23T13:17:55.000Z" title="发表于 2022-06-23 21:17:55">2022-06-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5/">数据库系统概念</a></span></div><div class="content">连接表达式
基本分类


连接成分

包括两个输入关系、连接条件、连接类型



连接条件

决定两个关系中哪些元组相互匹配



连接类型

决定如何处理与连接条件不匹配的元组



连接条件
on条件允许在参与有连接的关系的关系上设置通用谓词，该谓词的写法与where子句谓词类似。
1select * from s join sc on s.sno = sc.sno
等价于
1select * from s,sc where s.sno = sc.sno


在表名后面加外连接操作符(*)或(+)指定非主体表


非主体表有一“万能”的虚行，该行全部由空值组成。虚行可以和主体表中所有不满足连接条件的元组进行连接


由于虚行各列全部是空值，因此与虚行连接的结果中，来自非主体表的属性值全部是空值


如：
查询每个学生及其选修课程的情况包括没有选修课程的学生----用外连接操作
123SELECT  s.sno,sname,gender,age,dno,cno,score    FROM   s，sc    WHERE  s.sno = sc.sno(*);
连接类型


内连接（i ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/#content-inner">9</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ZWN</div><div class="author-info__description">我虽无意逐鹿，却知苍生苦楚</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">85</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ZWN2001"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ZWN2001" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/28/os-note1-6/" title="操作系统os-chapter1-6"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/add1/6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统os-chapter1-6"/></a><div class="content"><a class="title" href="/2022/06/28/os-note1-6/" title="操作系统os-chapter1-6">操作系统os-chapter1-6</a><time datetime="2022-06-28T10:40:26.000Z" title="发表于 2022-06-28 18:40:26">2022-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/28/os-note7-13/" title="操作系统os-chapter7-13"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/37.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统os-chapter7-13"/></a><div class="content"><a class="title" href="/2022/06/28/os-note7-13/" title="操作系统os-chapter7-13">操作系统os-chapter7-13</a><time datetime="2022-06-28T00:40:26.000Z" title="发表于 2022-06-28 08:40:26">2022-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/27/%E4%BC%97%E6%99%BA-%E7%A4%BE%E4%BC%9A%E7%BD%91%E7%BB%9C/" title="众智-社会网络"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="众智-社会网络"/></a><div class="content"><a class="title" href="/2022/06/27/%E4%BC%97%E6%99%BA-%E7%A4%BE%E4%BC%9A%E7%BD%91%E7%BB%9C/" title="众智-社会网络">众智-社会网络</a><time datetime="2022-06-27T00:27:07.000Z" title="发表于 2022-06-27 08:27:07">2022-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/27/%E4%BC%97%E6%99%BA-%E5%8D%9A%E5%BC%88%E8%AE%BA/" title="众智-博弈论"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="众智-博弈论"/></a><div class="content"><a class="title" href="/2022/06/27/%E4%BC%97%E6%99%BA-%E5%8D%9A%E5%BC%88%E8%AE%BA/" title="众智-博弈论">众智-博弈论</a><time datetime="2022-06-26T23:27:29.000Z" title="发表于 2022-06-27 07:27:29">2022-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/23/database-system-concepts-1/" title="database-system-concepts-1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_top_img/57.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="database-system-concepts-1"/></a><div class="content"><a class="title" href="/2022/06/23/database-system-concepts-1/" title="database-system-concepts-1">database-system-concepts-1</a><time datetime="2022-06-23T15:47:33.000Z" title="发表于 2022-06-23 23:47:33">2022-06-23</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cv/"><span class="card-category-list-name">cv</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/flutter-desktop/"><span class="card-category-list-name">flutter-desktop</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%80%BC%E5%BE%97%E7%BA%AA%E5%BF%B5%E7%9A%84%E4%BA%8B/"><span class="card-category-list-name">值得纪念的事</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="card-category-list-name">前端</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/"><span class="card-category-list-name">学习</span><span class="card-category-list-count">40</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E5%9F%B9%E8%AE%AD/"><span class="card-category-list-name">学习培训</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AD%A6%E7%BA%BF%E5%9F%B9%E8%AE%AD/"><span class="card-category-list-name">学线培训</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AE%89%E5%8D%93/"><span class="card-category-list-name">安卓</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AE%9E%E7%94%A8%E7%9F%A5%E8%AF%86-%E6%9D%82%E8%B0%88/"><span class="card-category-list-name">实用知识(杂谈)</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BB%98%E5%88%B6%E5%8E%9F%E7%90%86/"><span class="card-category-list-name">绘制原理</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BD%AC%E8%BD%BD%E4%B8%8E%E6%B1%87%E6%80%BB/"><span class="card-category-list-name">转载与汇总</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E6%97%A5%E5%B8%B8/" style="font-size: 1.19em; color: rgb(28, 31, 82)">日常</a><a href="/tags/%E8%BD%AC%E8%BD%BD%E4%B8%8E%E6%B1%87%E6%80%BB/" style="font-size: 1.41em; color: rgb(59, 145, 49)">转载与汇总</a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.15em; color: rgb(123, 170, 146)">前端</a><a href="/tags/%E5%AD%A6%E7%BA%BF%E5%9F%B9%E8%AE%AD/" style="font-size: 1.15em; color: rgb(167, 98, 47)">学线培训</a><a href="/tags/%E7%A7%BB%E5%8A%A8/" style="font-size: 1.45em; color: rgb(56, 199, 41)">移动</a><a href="/tags/Python/" style="font-size: 1.28em; color: rgb(158, 165, 4)">Python</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5/" style="font-size: 1.36em; color: rgb(89, 130, 67)">数据库系统概念</a><a href="/tags/flutter/" style="font-size: 1.41em; color: rgb(122, 30, 108)">flutter</a><a href="/tags/java%E5%B9%B6%E5%8F%91/" style="font-size: 1.15em; color: rgb(161, 24, 183)">java并发</a><a href="/tags/opencv/" style="font-size: 1.19em; color: rgb(10, 175, 65)">opencv</a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.32em; color: rgb(116, 142, 84)">操作系统</a><a href="/tags/%E4%BC%97%E6%99%BA/" style="font-size: 1.19em; color: rgb(47, 12, 195)">众智</a><a href="/tags/%E8%AE%A1%E7%BB%84%E8%AF%BE%E8%AE%BE/" style="font-size: 1.15em; color: rgb(152, 25, 23)">计组课设</a><a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 1.28em; color: rgb(121, 111, 36)">后端</a><a href="/tags/oj/" style="font-size: 1.15em; color: rgb(13, 15, 174)">oj</a><a href="/tags/%E8%AE%A1%E7%BD%91/" style="font-size: 1.15em; color: rgb(77, 182, 110)">计网</a><a href="/tags/HSD/" style="font-size: 1.15em; color: rgb(54, 28, 104)">HSD</a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.28em; color: rgb(5, 122, 130)">数据结构</a><a href="/tags/%E7%A6%BB%E6%95%A3/" style="font-size: 1.24em; color: rgb(135, 88, 78)">离散</a><a href="/tags/%E5%AE%89%E5%8D%93%E5%8E%9F%E7%94%9F/" style="font-size: 1.28em; color: rgb(159, 191, 200)">安卓原生</a><a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 1.15em; color: rgb(13, 35, 119)">学习</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.19em; color: rgb(23, 1, 182)">算法</a><a href="/tags/%E5%AE%9E%E7%94%A8%E7%9F%A5%E8%AF%86-%E6%9D%82%E8%B0%88/" style="font-size: 1.15em; color: rgb(130, 32, 133)">实用知识(杂谈)</a><a href="/tags/%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5/" style="font-size: 1.15em; color: rgb(12, 144, 175)">设计理念</a><a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size: 1.28em; color: rgb(31, 12, 27)">面向对象</a><a href="/tags/git/" style="font-size: 1.15em; color: rgb(9, 200, 61)">git</a><a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 1.15em; color: rgb(183, 152, 126)">架构</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">4</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">85</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-09-26T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">507.9k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-07-02T16:17:49.522Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/bg.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By ZWN</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">喵喵喵？</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["举头望明月，万般感怀皆在其中，此情此景，犹如天星照我，愿逐月华","我野蛮生长，没能成为自己的月亮。","遇见你，是银河赠予我的糖。","人们从诗人的字句里，选取自己心爱的意义。","但诗句的最终意义是指向你。"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '举头望明月，万般感怀皆在其中，此情此景，犹如天星照我，愿逐月华'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=retro'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://7MlJqmD9.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": '7MlJqmD9Ceux2bxiKqPqsMHW-gzGzoHsz',
        "X-LC-Key": '3oP9XaednBAwtfMk2q28dwGP',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="app-refresh" id="app-refresh"> <div class="app-refresh-wrap"> <label>✨ 网站已更新最新版本 👉</label> <a href="javascript:void(0)" onclick="location.reload()">点击刷新</a> </div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"已更新最新版本",backgroundColor:t,duration:5e5,pos:e,actionText:"点击刷新",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",function(){showNotification()}),window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js")}));</script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script>"use strict";if("serviceWorker"in navigator){navigator.serviceWorker.register("service-worker.js").then((function(reg){reg.onupdatefound=function(){var installingWorker=reg.installing;installingWorker.onstatechange=function(){switch(installingWorker.state){case"installed":if(navigator.serviceWorker.controller){console.log("New or updated content is available.")}else{console.log("Content is now available offline!")}break;case"redundant":console.error("The installing service worker became redundant.");break}}}}))["catch"]((function(e){console.error("Error during service worker registration:",e)}))}</script></body></html>